
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pdmosses.github.io/webdsl-statix/webdslstatix/trans/static-semantics/webdsl-ac.stx/">
      
      
        <link rel="prev" href="../ui/template-calls.stx/">
      
      
        <link rel="next" href="../webdsl-actions.stx/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>webdsl-ac.stx - webdsl-statix</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/metaborg.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/modal.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/sdf3.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/nab.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/stx.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#webdsl-acstx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="webdsl-statix" class="md-header__button md-logo" aria-label="webdsl-statix" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            webdsl-statix
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              webdsl-ac.stx
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pdmosses/webdsl-statix/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pdmosses/webdsl-statix
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Hyperlinked Twin

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
    
  
  webdslstatix

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="webdsl-statix" class="md-nav__button md-logo" aria-label="webdsl-statix" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    webdsl-statix
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pdmosses/webdsl-statix/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pdmosses/webdsl-statix
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyperlinked Twin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    webdslstatix
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            webdslstatix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    syntax
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            syntax
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/HQL.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HQL.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-AccessControl.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-AccessControl.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Action.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Action.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Ajax.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Ajax.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Attributes.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Attributes.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Core.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Core.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-DataModel.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-DataModel.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-DataValidation.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-DataValidation.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Dispatch.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Dispatch.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-EntityDerive.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-EntityDerive.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Exception.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Exception.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Expand.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Expand.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Generated.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Generated.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-JavaScript.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-JavaScript.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Lexical.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Lexical.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Native.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Native.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Prefetch.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Prefetch.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Regex.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Regex.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Routing.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Routing.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Search.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Search.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Service.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Service.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Test.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Test.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-TimeInterval.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-TimeInterval.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-Type.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-Type.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-UI.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-UI.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/WebDSL-XML.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebDSL-XML.sdf3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../syntax/webdsl-statix.sdf3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-statix.sdf3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    trans
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            trans
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    static-semantics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            static-semantics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1_1" id="__nav_2_3_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    actions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            actions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/binops.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    binops.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/built-ins.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    built-ins.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/emails.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emails.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/functions.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    functions.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1_2" id="__nav_2_3_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    entities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            entities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entities/annotations.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    annotations.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entities/built-ins.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    built-ins.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entities/generated-functions.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    generated-functions.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1_3" id="__nav_2_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/built-ins.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    built-ins.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/type-extensions.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type-extensions.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_4" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1_4" id="__nav_2_3_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ui
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            ui
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/actions.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actions.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/ajax.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ajax.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/attributes.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    attributes.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/built-ins.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    built-ins.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/template-calls.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    template-calls.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    webdsl-ac.stx
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-actions.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-actions.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-built-ins.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-built-ins.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-entities.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-entities.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-expand.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-expand.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-hql.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-hql.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-modules.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-modules.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-native.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-native.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-regex.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-regex.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-search.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-search.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-services.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-services.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-types.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-types.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl-ui.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl-ui.stx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdsl.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webdsl.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statics.stx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    statics.stx
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="webdsl-acstx"><code>webdsl-ac.stx</code></h1>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></span> <a href="https://github.com/pdmosses/webdsl-statix/blob/master/webdslstatix/trans/static-semantics/webdsl-ac.stx" title="The source file on GitHub">pdmosses/webdsl-statix/webdslstatix/trans/static-semantics/webdsl-ac.stx</a></p>
<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <button class="modal-open" id="static-semantics/webdsl-ac_1_8" title="a definition with multiple references" data-urls="../webdsl-modules.stx/#static-semantics/webdsl-ac line 4_3; ../webdsl.stx/#static-semantics/webdsl-ac line 13_3"><span class="token sort_Id">static-semantics/webdsl-ac</span></button>

<span class="keyword">imports</span>
  <a href="../actions/functions.stx/#static-semantics/actions/functions_1_8" id="static-semantics/actions/functions_4_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/actions/functions</span></a>

  <a href="../entities/annotations.stx/#static-semantics/entities/annotations_1_8" id="static-semantics/entities/annotations_6_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/entities/annotations</span></a>

  <a href="../types/built-ins.stx/#static-semantics/types/built-ins_1_8" id="static-semantics/types/built-ins_8_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/types/built-ins</span></a>

  <a href="../ui/template-calls.stx/#static-semantics/ui/template-calls_1_8" id="static-semantics/ui/template-calls_10_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/ui/template-calls</span></a>

  <a href="../webdsl-actions.stx/#static-semantics/webdsl-actions_1_8" id="static-semantics/webdsl-actions_12_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-actions</span></a>
  <a href="../webdsl-built-ins.stx/#static-semantics/webdsl-built-ins_1_8" id="static-semantics/webdsl-built-ins_13_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-built-ins</span></a>
  <a href="../webdsl-entities.stx/#static-semantics/webdsl-entities_1_8" id="static-semantics/webdsl-entities_14_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-entities</span></a>
  <a href="../webdsl-types.stx/#static-semantics/webdsl-types_1_8" id="static-semantics/webdsl-types_15_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-types</span></a>
  <a href="../webdsl.stx/#static-semantics/webdsl_1_8" id="static-semantics/webdsl_16_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl</span></a>

<span class="keyword">rules</span> <span class="layout">// built-ins</span>

  <button class="modal-open" id="declareACBuiltIns_20_3" title="a definition with multiple references" data-urls="#declareACBuiltIns line 21_3; ../webdsl-modules.stx/#declareACBuiltIns line 18_5"><span class="token sort_Id">declareACBuiltIns</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>
  <a href="#declareACBuiltIns_20_3" id="declareACBuiltIns_21_3" title="a reference to a single-file definition"><span class="token sort_Id">declareACBuiltIns</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_decl_21_21" title="a definition with multiple references" data-urls="#s_decl line 27_24, 28_37, 29_17, 30_16, 32_28, 33_28, 34_28, 36_21, 37_21, 38_21"><span class="token sort_Id">s_decl</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="s_resolve_21_29" title="a definition with multiple references" data-urls="#s_resolve line 22_18, 23_22"><span class="token sort_Id">s_resolve</span></button></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_securityContext_21_45" title="a definition with multiple references" data-urls="#s_securityContext line 25_9, 26_29, 27_51, 28_65, 29_70, 30_69"><span class="token sort_Id">s_securityContext</span></button></span> <span class="cons_Var"><button class="modal-open" id="bool_21_63" title="a definition with multiple references" data-urls="#bool line 22_5, 32_52"><span class="token sort_Id">bool</span></button></span> <span class="cons_Var"><button class="modal-open" id="entity_21_68" title="a definition with multiple references" data-urls="#entity line 23_5, 33_50, 34_61"><span class="token sort_Id">entity</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#bool_21_63" id="bool_22_5" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span> <span class="operator">==</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_22_13" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_resolve_21_29" id="s_resolve_22_18" title="a reference to a single-file definition"><span class="token sort_Id">s_resolve</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#entity_21_68" id="entity_23_5" title="a reference to a single-file definition"><span class="token sort_Id">entity</span></a></span> <span class="operator">==</span> <a href="../types/built-ins.stx/#entity_81_3" id="entity_23_15" title="a reference to a single-file definition"><span class="token sort_Id">entity</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_resolve_21_29" id="s_resolve_23_22" title="a reference to a single-file definition"><span class="token sort_Id">s_resolve</span></a></span><span class="operator">),</span>

    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_25_9" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">,</span>
    <a href="../entities/annotations.stx/#declareEntityAnnotation_66_3" id="declareEntityAnnotation_26_5" title="a reference to a single-file definition"><span class="token sort_Id">declareEntityAnnotation</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_26_29" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../entities/annotations.stx/#SESSIONENTITY_26_5" id="SESSIONENTITY_26_48" title="a reference to a single-file definition"><span class="token sort_Id">SESSIONENTITY</span></a><span class="operator">()</span></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareExtendScope_133_3" id="declareExtendScope_27_5" title="a reference to a single-file definition"><span class="token sort_Id">declareExtendScope</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_27_24" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_27_51" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">),</span> <span class="layout">// declare s_type to be linked to type name</span>
    <a href="../webdsl-entities.stx/#extendScopes_56_3" id="extendScopes_28_5" title="a reference to a single-file definition"><span class="token sort_Id">extendScopes</span></a><span class="operator">(</span><a href="../webdsl.stx/#resolveExtendScope_137_3" id="resolveExtendScope_28_18" title="a reference to a single-file definition"><span class="token sort_Id">resolveExtendScope</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_28_37" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">),</span> <span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_28_65" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareType_100_3" id="declareType_29_5" title="a reference to a single-file definition"><span class="token sort_Id">declareType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_29_17" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#ENTITY_20_5" id="ENTITY_29_44" title="a reference to a single-file definition"><span class="token sort_Id">ENTITY</span></a><span class="operator">(</span><span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_29_70" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_30_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_30_16" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#ENTITY_20_5" id="ENTITY_30_43" title="a reference to a single-file definition"><span class="token sort_Id">ENTITY</span></a><span class="operator">(</span><span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_securityContext_21_45" id="s_securityContext_30_69" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">)</span></span><span class="operator">),</span>

    <a href="../webdsl-built-ins.stx/#declareBuiltInFunction_10_3" id="declareBuiltInFunction_32_5" title="a reference to a single-file definition"><span class="token sort_Id">declareBuiltInFunction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_32_28" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Var"><a href="#bool_21_63" id="bool_32_52" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">),</span>
    <a href="../webdsl-built-ins.stx/#declareBuiltInFunction_10_3" id="declareBuiltInFunction_33_5" title="a reference to a single-file definition"><span class="token sort_Id">declareBuiltInFunction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_33_28" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>logout<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Var"><a href="#entity_21_68" id="entity_33_50" title="a reference to a single-file definition"><span class="token sort_Id">entity</span></a></span><span class="operator">),</span>
    <a href="../webdsl-built-ins.stx/#declareBuiltInFunction_10_3" id="declareBuiltInFunction_34_5" title="a reference to a single-file definition"><span class="token sort_Id">declareBuiltInFunction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_34_28" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principalAsEntity<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Var"><a href="#entity_21_68" id="entity_34_61" title="a reference to a single-file definition"><span class="token sort_Id">entity</span></a></span><span class="operator">),</span>

    <a href="../webdsl.stx/#declareTemplate_151_3" id="declareTemplate_36_5" title="a reference to a single-file definition"><span class="token sort_Id">declareTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_36_21" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>login<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[]),</span>
    <a href="../webdsl.stx/#declareTemplate_151_3" id="declareTemplate_37_5" title="a reference to a single-file definition"><span class="token sort_Id">declareTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_37_21" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>logout<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[]),</span>
    <a href="../webdsl.stx/#declareTemplate_151_3" id="declareTemplate_38_5" title="a reference to a single-file definition"><span class="token sort_Id">declareTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_21_21" id="s_decl_38_21" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>authentication<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[]).</span>

  <a href="../actions/functions.stx/#typeOfFunctionCall_37_3" id="typeOfFunctionCall_40_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfFunctionCall</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_40_71" id="s_40_22" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">=</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_40_43" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">)</span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_40_54" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_40_22" id="s_40_71" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>
  <a href="../actions/functions.stx/#typeOfFunctionCall_37_3" id="typeOfFunctionCall_41_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfFunctionCall</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_41_68" id="s_41_22" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>logout<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">=</span> <span class="cons_Op"><a href="../webdsl-types.stx/#VOID_46_5" id="VOID_41_41" title="a reference to a single-file definition"><span class="token sort_Id">VOID</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_41_51" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_41_22" id="s_41_68" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>
  <a href="../actions/functions.stx/#typeOfFunctionCall_37_3" id="typeOfFunctionCall_42_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfFunctionCall</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principalAsEntity<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">=</span> <a href="../types/built-ins.stx/#entity_81_3" id="entity_42_52" title="a reference to a single-file definition"><span class="token sort_Id">entity</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_42_82" id="s_42_59" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_42_65" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_42_59" id="s_42_82" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>
  <a href="../actions/functions.stx/#typeOfFunctionCall_37_3" id="typeOfFunctionCall_43_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfFunctionCall</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_43_22" title="a definition with multiple references" data-urls="#s line 44_22, 45_29, 46_40"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>authenticate<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#argExps_45_32" id="argExps_43_41" title="a definition with a single reference"><span class="token sort_Id">argExps</span></a></span><span class="operator">)</span> <span class="operator">=</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_43_52" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="argTypes_43_65" title="a definition with multiple references" data-urls="#argTypes line 45_5, 47_21, 47_84"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="credentialTypes_43_74" title="a definition with multiple references" data-urls="#credentialTypes line 46_5, 47_31, 47_132"><span class="token sort_Id">credentialTypes</span></button></span> <span class="operator">}</span>
    <a href="#principalDefined_262_3" id="principalDefined_44_5" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_43_22" id="s_44_22" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#argTypes_43_65" id="argTypes_45_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../webdsl.stx/#typesOfExps_387_3" id="typesOfExps_45_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfExps</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_43_22" id="s_45_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argExps_43_41" id="argExps_45_32" title="a reference to a single-file definition"><span class="token sort_Id">argExps</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#credentialTypes_43_74" id="credentialTypes_46_5" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span> <span class="operator">==</span> <a href="#credentialTypes_271_3" id="credentialTypes_46_24" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_43_22" id="s_46_40" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#typesCompatible_401_3" id="typesCompatible_47_5" title="a reference to a single-file definition"><span class="token sort_Id">typesCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_43_65" id="argTypes_47_21" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#credentialTypes_43_74" id="credentialTypes_47_31" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="../webdsl.stx/#TRUE_34_5" id="TRUE_47_51" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Argument types </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_43_65" id="argTypes_47_84" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]</span><span class="cons_Text"> not compatible with credential types </span><span class="operator">[</span><span class="cons_Var"><a href="#credentialTypes_43_74" id="credentialTypes_47_132" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">]].</span>

  <a href="../ui/template-calls.stx/#templateCallMatchesSig_37_3" id="templateCallMatchesSig_49_3" title="a reference to a single-file definition"><span class="token sort_Id">templateCallMatchesSig</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_65" id="s_49_26" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>login<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="operator">_)</span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_49_48" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_26" id="s_49_65" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>
  <a href="../ui/template-calls.stx/#templateCallMatchesSig_37_3" id="templateCallMatchesSig_50_3" title="a reference to a single-file definition"><span class="token sort_Id">templateCallMatchesSig</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_50_66" id="s_50_26" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>logout<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="operator">_)</span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_50_49" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_50_26" id="s_50_66" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>
  <a href="../ui/template-calls.stx/#templateCallMatchesSig_37_3" id="templateCallMatchesSig_51_3" title="a reference to a single-file definition"><span class="token sort_Id">templateCallMatchesSig</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_51_72" id="s_51_26" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>authenticate<span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="operator">_)</span> <span class="operator">:-</span> <a href="#principalDefined_262_3" id="principalDefined_51_55" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_51_26" id="s_51_72" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span>

  <a href="../webdsl.stx/#sectionOk_351_3" id="sectionOk_55_3" title="a reference to a single-file definition"><span class="token sort_Id">sectionOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_55_62" id="s_55_13" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlDefinition_41_5" id="AccessControlDefinition_55_16" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlDefinition</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#defs_55_65" id="defs_55_43" title="a definition with a single reference"><span class="token sort_Id">defs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#acDefsOk_57_3" id="acDefsOk_55_53" title="a reference to a single-file definition"><span class="token sort_Id">acDefsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_55_13" id="s_55_62" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#defs_55_43" id="defs_55_65" title="a reference to a single-file definition"><span class="token sort_Id">defs</span></a></span><span class="operator">).</span>

  <a href="#acDefsOk_55_53" id="acDefsOk_57_3" title="a definition with a single reference"><span class="token sort_Id">acDefsOk</span></a> <span class="keyword">maps</span> <a href="#acDefOk_58_3" id="acDefOk_57_17" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span>
  <button class="modal-open" id="acDefOk_58_3" title="a definition with multiple references" data-urls="#acDefOk line 57_17, 59_3, 64_3, 93_3, 185_3, 208_3"><span class="token sort_Id">acDefOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlDefinition_16_5" id="AccessControlDefinition_58_21" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlDefinition</span></a></span>
  <a href="#acDefOk_58_3" id="acDefOk_59_3" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(_,_)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">This access control definition is not yet supported</span><span class="operator">].</span>

<span class="keyword">rules</span> <span class="layout">// securitycontext and principal</span>

  <a href="../webdsl.stx/#defOk_356_3" id="defOk_63_3" title="a reference to a single-file definition"><span class="token sort_Id">defOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_63_74" id="s_63_9" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPrincipalDef_44_5" id="AccessControlPrincipalDef_63_12" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPrincipalDef</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ent_63_77" id="ent_63_38" title="a definition with a single reference"><span class="token sort_Id">ent</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#properties_63_82" id="properties_63_43" title="a definition with a single reference"><span class="token sort_Id">properties</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#principalDefOk_66_3" id="principalDefOk_63_59" title="a reference to a single-file definition"><span class="token sort_Id">principalDefOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_63_9" id="s_63_74" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_63_38" id="ent_63_77" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#properties_63_43" id="properties_63_82" title="a reference to a single-file definition"><span class="token sort_Id">properties</span></a></span><span class="operator">).</span>
  <a href="#acDefOk_58_3" id="acDefOk_64_3" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_64_78" id="s_64_11" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPrincipalAcDef_46_5" id="AccessControlPrincipalAcDef_64_14" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPrincipalAcDef</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ent_64_81" id="ent_64_42" title="a definition with a single reference"><span class="token sort_Id">ent</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#properties_64_86" id="properties_64_47" title="a definition with a single reference"><span class="token sort_Id">properties</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#principalDefOk_66_3" id="principalDefOk_64_63" title="a reference to a single-file definition"><span class="token sort_Id">principalDefOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_64_11" id="s_64_78" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_64_42" id="ent_64_81" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#properties_64_47" id="properties_64_86" title="a reference to a single-file definition"><span class="token sort_Id">properties</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="principalDefOk_66_3" title="a definition with multiple references" data-urls="#principalDefOk line 63_59, 64_63, 67_3"><span class="token sort_Id">principalDefOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_StringSort"><span class="keyword">string</span></span><span class="operator">)</span>
  <a href="#principalDefOk_66_3" id="principalDefOk_67_3" title="a reference to a single-file definition"><span class="token sort_Id">principalDefOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_67_18" title="a definition with multiple references" data-urls="#s line 69_28, 72_25"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="ent_67_21" title="a definition with multiple references" data-urls="#ent line 69_31, 69_85, 70_47"><span class="token sort_Id">ent</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="properties_67_26" title="a definition with multiple references" data-urls="#properties line 70_35, 71_31"><span class="token sort_Id">properties</span></button></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_ent_67_43" title="a definition with multiple references" data-urls="#s_ent line 69_60, 70_28"><span class="token sort_Id">s_ent</span></button></span> <span class="cons_Var"><a href="#entityName_69_48" id="entityName_67_49" title="a definition with a single reference"><span class="token sort_Id">entityName</span></a></span> <span class="cons_Var"><button class="modal-open" id="credentialTypes_67_60" title="a definition with multiple references" data-urls="#credentialTypes line 70_55, 71_43, 72_31"><span class="token sort_Id">credentialTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="t_67_76" title="a definition with multiple references" data-urls="#t line 69_39, 72_28"><span class="token sort_Id">t</span></button></span> <span class="operator">}</span>
    <span class="layout">// TO-DO: only give principal access to the credential properties instead of all</span>
    <a href="../webdsl-types.stx/#definedTypeCustomError_223_3" id="definedTypeCustomError_69_5" title="a reference to a single-file definition"><span class="token sort_Id">definedTypeCustomError</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_67_18" id="s_69_28" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_67_21" id="ent_69_31" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#t_67_76" id="t_69_39" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../webdsl-types.stx/#ENTITY_20_5" id="ENTITY_69_41" title="a reference to a single-file definition"><span class="token sort_Id">ENTITY</span></a><span class="operator">(</span><span class="cons_Var"><a href="#entityName_67_49" id="entityName_69_48" title="a reference to a single-file definition"><span class="token sort_Id">entityName</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_ent_67_43" id="s_ent_69_60" title="a reference to a single-file definition"><span class="token sort_Id">s_ent</span></a></span><span class="operator">)</span></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Entity </span><span class="operator">[</span><span class="cons_Var"><a href="#ent_67_21" id="ent_69_85" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">]</span><span class="cons_Text"> does not exist, and cannot be used as principal for access control</span><span class="operator">],</span> <span class="layout">// correct error message for tests</span>
    <a href="#principalPropertyTypes_255_3" id="principalPropertyTypes_70_5" title="a reference to a single-file definition"><span class="token sort_Id">principalPropertyTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_ent_67_43" id="s_ent_70_28" title="a reference to a single-file definition"><span class="token sort_Id">s_ent</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#properties_67_26" id="properties_70_35" title="a reference to a single-file definition"><span class="token sort_Id">properties</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_67_21" id="ent_70_47" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#credentialTypes_67_60" id="credentialTypes_70_55" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">,</span>
    <a href="#compatibleCredentialTypes_74_3" id="compatibleCredentialTypes_71_5" title="a reference to a single-file definition"><span class="token sort_Id">compatibleCredentialTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#properties_67_26" id="properties_71_31" title="a reference to a single-file definition"><span class="token sort_Id">properties</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#credentialTypes_67_60" id="credentialTypes_71_43" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">),</span>
    <a href="#declSecurityContext_79_3" id="declSecurityContext_72_5" title="a reference to a single-file definition"><span class="token sort_Id">declSecurityContext</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_67_18" id="s_72_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_67_76" id="t_72_28" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#credentialTypes_67_60" id="credentialTypes_72_31" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">).</span>

  <a href="#compatibleCredentialTypes_71_5" id="compatibleCredentialTypes_74_3" title="a definition with a single reference"><span class="token sort_Id">compatibleCredentialTypes</span></a> <span class="keyword">maps</span> <a href="#compatibleCredentialType_75_3" id="compatibleCredentialType_74_34" title="a reference to a single-file definition"><span class="token sort_Id">compatibleCredentialType</span></a><span class="operator">(</span><span class="keyword">list</span><span class="operator">(*),</span> <span class="keyword">list</span><span class="operator">(*))</span>
  <button class="modal-open" id="compatibleCredentialType_75_3" title="a definition with multiple references" data-urls="#compatibleCredentialType line 74_34, 76_3"><span class="token sort_Id">compatibleCredentialType</span></button> <span class="operator">:</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_75_39" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#compatibleCredentialType_75_3" id="compatibleCredentialType_76_3" title="a reference to a single-file definition"><span class="token sort_Id">compatibleCredentialType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_77_98" id="x_76_28" title="a definition with a single reference"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_77_28" id="s_76_31" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl-types.stx/#isStringCompatibleType_137_3" id="isStringCompatibleType_77_5" title="a reference to a single-file definition"><span class="token sort_Id">isStringCompatibleType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_76_31" id="s_77_28" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Credential types should be compatible with String type</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#x_76_28" id="x_77_98" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>

  <button class="modal-open" id="declSecurityContext_79_3" title="a definition with multiple references" data-urls="#declSecurityContext line 72_5, 80_3"><span class="token sort_Id">declSecurityContext</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_79_33" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_79_45" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#declSecurityContext_79_3" id="declSecurityContext_80_3" title="a reference to a single-file definition"><span class="token sort_Id">declSecurityContext</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_80_23" title="a definition with multiple references" data-urls="#s line 83_81, 85_24, 86_37"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#principalType_82_77" id="principalType_80_26" title="a definition with a single reference"><span class="token sort_Id">principalType</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#credentialTypes_84_51" id="credentialTypes_80_41" title="a definition with a single reference"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_extend_security_context_80_63" title="a definition with multiple references" data-urls="#s_extend_security_context line 81_9, 82_18, 83_18, 84_24, 85_46, 86_60"><span class="token sort_Id">s_extend_security_context</span></button></span> <span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_81_9" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">,</span>
    <a href="../webdsl-entities.stx/#declProperty_139_3" id="declProperty_82_5" title="a reference to a single-file definition"><span class="token sort_Id">declProperty</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_82_18" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principal<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#principalType_80_26" id="principalType_82_77" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span><span class="operator">),</span>
    <a href="../webdsl-entities.stx/#declProperty_139_3" id="declProperty_83_5" title="a reference to a single-file definition"><span class="token sort_Id">declProperty</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_83_18" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_83_76" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_80_23" id="s_83_81" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)),</span>
    <a href="#declareCredentials_88_3" id="declareCredentials_84_5" title="a reference to a single-file definition"><span class="token sort_Id">declareCredentials</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_84_24" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#credentialTypes_80_41" id="credentialTypes_84_51" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareExtendScope_133_3" id="declareExtendScope_85_5" title="a reference to a single-file definition"><span class="token sort_Id">declareExtendScope</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_80_23" id="s_85_24" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_85_46" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">),</span>
    <a href="../webdsl-entities.stx/#extendScopes_56_3" id="extendScopes_86_5" title="a reference to a single-file definition"><span class="token sort_Id">extendScopes</span></a><span class="operator">(</span><a href="../webdsl.stx/#resolveExtendScope_137_3" id="resolveExtendScope_86_18" title="a reference to a single-file definition"><span class="token sort_Id">resolveExtendScope</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_80_23" id="s_86_37" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">),</span> <span class="cons_Var"><a href="#s_extend_security_context_80_63" id="s_extend_security_context_86_60" title="a reference to a single-file definition"><span class="token sort_Id">s_extend_security_context</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="declareCredentials_88_3" title="a definition with multiple references" data-urls="#declareCredentials line 84_5, 89_3"><span class="token sort_Id">declareCredentials</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_88_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#declareCredentials_88_3" id="declareCredentials_89_3" title="a reference to a single-file definition"><span class="token sort_Id">declareCredentials</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_89_83" id="s_89_22" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_89_74" id="ts_89_25" title="a definition with a single reference"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">!</span><span class="cons_Label"><a href="../webdsl.stx/#var_67_5" id="var_89_33" title="a reference to a single-file definition"><span class="token sort_Id">var</span></a></span><span class="operator">[</span><span class="cons_Str"><span class="operator">"</span>_credentials<span class="operator">"</span></span><span class="operator">,</span> <a href="../webdsl.stx/#withType_113_3" id="withType_89_53" title="a reference to a single-file definition"><span class="token sort_Id">withType</span></a><span class="operator">(</span><span class="cons_Op"><a href="../webdsl-types.stx/#CREDENTIALS_33_5" id="CREDENTIALS_89_62" title="a reference to a single-file definition"><span class="token sort_Id">CREDENTIALS</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ts_89_25" id="ts_89_74" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span></span><span class="operator">)]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_89_22" id="s_89_83" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// access control rules</span>

  <a href="#acDefOk_58_3" id="acDefOk_93_3" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_93_35" id="s_93_11" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#Rule_48_5" id="Rule_93_14" title="a reference to a single-file definition"><span class="token sort_Id">Rule</span></a><span class="operator">(</span><span class="cons_Var"><a href="#r_93_38" id="r_93_19" title="a definition with a single reference"><span class="token sort_Id">r</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#acRuleOk_95_3" id="acRuleOk_93_26" title="a reference to a single-file definition"><span class="token sort_Id">acRuleOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_93_11" id="s_93_35" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#r_93_19" id="r_93_38" title="a reference to a single-file definition"><span class="token sort_Id">r</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="acRuleOk_95_3" title="a definition with multiple references" data-urls="#acRuleOk line 93_26, 96_3, 97_3, 109_3"><span class="token sort_Id">acRuleOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlRule_17_5" id="AccessControlRule_95_22" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlRule</span></a></span>
  <a href="#acRuleOk_95_3" id="acRuleOk_96_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleOk</span></a><span class="operator">(_,</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This access control rule is not yet implemented</span><span class="operator">].</span>
  <a href="#acRuleOk_95_3" id="acRuleOk_97_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_97_12" title="a definition with multiple references" data-urls="#s line 98_23, 99_18, 100_29, 101_29, 103_36"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlRule_49_5" id="AccessControlRule_97_15" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlRule</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_98_26" id="t_97_33" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="x_97_36" title="a definition with multiple references" data-urls="#x line 98_29, 103_116"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#mas_98_32" id="mas_97_39" title="a definition with a single reference"><span class="token sort_Id">mas</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_97_43" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_97_53" title="a definition with multiple references" data-urls="#args line 101_32, 102_43"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_97_63" title="a definition with multiple references" data-urls="#exp line 107_33, 107_95"><span class="token sort_Id">exp</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#nested_106_29" id="nested_97_68" title="a definition with a single reference"><span class="token sort_Id">nested</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_rule_97_82" title="a definition with multiple references" data-urls="#s_rule line 100_9, 100_17, 102_23, 104_16, 105_16, 106_21, 107_25"><span class="token sort_Id">s_rule</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_97_89" title="a definition with multiple references" data-urls="#argTypes line 101_5, 102_49"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="principalType_97_98" title="a definition with multiple references" data-urls="#principalType line 103_5, 104_37"><span class="token sort_Id">principalType</span></button></span> <span class="cons_Var"><button class="modal-open" id="bool_97_112" title="a definition with multiple references" data-urls="#bool line 99_5, 105_36, 107_39"><span class="token sort_Id">bool</span></button></span> <span class="operator">}</span>
    <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_98_5" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_97_12" id="s_98_23" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_97_33" id="t_98_26" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_97_36" id="x_98_29" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#mas_97_39" id="mas_98_32" title="a reference to a single-file definition"><span class="token sort_Id">mas</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#bool_97_112" id="bool_99_5" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span> <span class="operator">==</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_99_13" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_97_12" id="s_99_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_100_9" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_100_17" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../webdsl.stx/#F_46_7" id="F_100_25" title="a reference to a single-file definition"><span class="token sort_Id">F</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_97_12" id="s_100_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#argTypes_97_89" id="argTypes_101_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_101_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_97_12" id="s_101_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_97_53" id="args_101_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareParameters_332_3" id="declareParameters_102_5" title="a reference to a single-file definition"><span class="token sort_Id">declareParameters</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_102_23" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <a href="../actions/functions.stx/#zipArgTypes_145_3" id="zipArgTypes_102_31" title="a reference to a single-file definition"><span class="token sort_Id">zipArgTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_97_53" id="args_102_43" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_97_89" id="argTypes_102_49" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">)),</span>
    <span class="cons_Var"><a href="#principalType_97_98" id="principalType_103_5" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span> <span class="operator">==</span> <a href="#principalType_266_3" id="principalType_103_22" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_97_12" id="s_103_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Cannot have access control rules without a principal declaration</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#x_97_36" id="x_103_116" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_104_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_104_16" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principal<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#principalType_97_98" id="principalType_104_37" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_105_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_105_16" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#bool_97_112" id="bool_105_36" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">),</span>
    <a href="#nestedAcRulesOk_117_3" id="nestedAcRulesOk_106_5" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRulesOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_106_21" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#nested_97_68" id="nested_106_29" title="a reference to a single-file definition"><span class="token sort_Id">nested</span></a></span><span class="operator">),</span>
    <a href="../webdsl-types.stx/#equalType_289_3" id="equalType_107_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_107_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_97_82" id="s_rule_107_25" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_97_63" id="exp_107_33" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#bool_97_112" id="bool_107_39" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Rule should contain a Bool expression</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_97_63" id="exp_107_95" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleOk_95_3" id="acRuleOk_109_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_109_12" title="a definition with multiple references" data-urls="#s line 110_18, 111_29, 112_36"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#SpecialAccessControlRule_50_5" id="SpecialAccessControlRule_109_15" title="a reference to a single-file definition"><span class="token sort_Id">SpecialAccessControlRule</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="exp_109_40" title="a definition with multiple references" data-urls="#exp line 115_33, 115_95"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_rule_109_51" title="a definition with multiple references" data-urls="#s_rule line 111_9, 111_17, 113_16, 114_16, 115_25"><span class="token sort_Id">s_rule</span></button></span> <span class="cons_Var"><button class="modal-open" id="principalType_109_58" title="a definition with multiple references" data-urls="#principalType line 112_5, 113_37"><span class="token sort_Id">principalType</span></button></span> <span class="cons_Var"><button class="modal-open" id="bool_109_72" title="a definition with multiple references" data-urls="#bool line 110_5, 114_36, 115_39"><span class="token sort_Id">bool</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#bool_109_72" id="bool_110_5" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span> <span class="operator">==</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_110_13" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_109_12" id="s_110_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_rule_109_51" id="s_rule_111_9" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rule_109_51" id="s_rule_111_17" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../webdsl.stx/#F_46_7" id="F_111_25" title="a reference to a single-file definition"><span class="token sort_Id">F</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_109_12" id="s_111_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#principalType_109_58" id="principalType_112_5" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span> <span class="operator">==</span> <a href="#principalType_266_3" id="principalType_112_22" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_109_12" id="s_112_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Cannot have access control rules without a principal declaration</span><span class="operator">],</span> <span class="layout">// correct error message for tests</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_113_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_109_51" id="s_rule_113_16" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principal<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#principalType_109_58" id="principalType_113_37" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_114_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_109_51" id="s_rule_114_16" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#bool_109_72" id="bool_114_36" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">),</span>
    <a href="../webdsl-types.stx/#equalType_289_3" id="equalType_115_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_115_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_109_51" id="s_rule_115_25" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_109_40" id="exp_115_33" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#bool_109_72" id="bool_115_39" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Rule should contain a Bool expression</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_109_40" id="exp_115_95" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <button class="modal-open" id="nestedAcRulesOk_117_3" title="a definition with multiple references" data-urls="#nestedAcRulesOk line 106_5, 125_5"><span class="token sort_Id">nestedAcRulesOk</span></button> <span class="keyword">maps</span> <a href="#nestedAcRuleOk_118_3" id="nestedAcRuleOk_117_24" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRuleOk</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span>
  <button class="modal-open" id="nestedAcRuleOk_118_3" title="a definition with multiple references" data-urls="#nestedAcRuleOk line 117_24, 119_3, 120_3, 121_3, 128_3"><span class="token sort_Id">nestedAcRuleOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlRule_17_5" id="AccessControlRule_118_28" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlRule</span></a></span>
  <a href="#nestedAcRuleOk_118_3" id="nestedAcRuleOk_119_3" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRuleOk</span></a><span class="operator">(_,</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Nested rule type unknown, nested rules must be of type "action"</span><span class="operator">].</span> <span class="layout">// correct error message for tests</span>
  <a href="#nestedAcRuleOk_118_3" id="nestedAcRuleOk_120_3" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRuleOk</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlRule_49_5" id="AccessControlRule_120_21" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlRule</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_120_140" id="t_120_39" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Nested rule type unknown, nested rules must be of type "action"</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_120_39" id="t_120_140" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>
  <a href="#nestedAcRuleOk_118_3" id="nestedAcRuleOk_121_3" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRuleOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_121_18" title="a definition with multiple references" data-urls="#s line 122_29, 123_29, 126_44"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlRule_49_5" id="AccessControlRule_121_21" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlRule</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAction_67_5" id="ACTypeAction_121_39" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAction</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Var"><span id="x_121_55" title="a definition with no references"><span class="token sort_Id">x</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_121_58" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_121_68" title="a definition with multiple references" data-urls="#args line 123_32, 124_43"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_121_78" title="a definition with multiple references" data-urls="#exp line 126_33, 126_98"><span class="token sort_Id">exp</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#nested_125_29" id="nested_121_83" title="a definition with a single reference"><span class="token sort_Id">nested</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_rule_121_97" title="a definition with multiple references" data-urls="#s_rule line 122_9, 122_17, 124_23, 125_21, 126_25"><span class="token sort_Id">s_rule</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_121_104" title="a definition with multiple references" data-urls="#argTypes line 123_5, 124_49"><span class="token sort_Id">argTypes</span></button></span> <span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_rule_121_97" id="s_rule_122_9" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rule_121_97" id="s_rule_122_17" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../webdsl.stx/#P_45_7" id="P_122_25" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_121_18" id="s_122_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="layout">// P label here instead of F to correctly resolve and error on variable usage</span>
    <span class="cons_Var"><a href="#argTypes_121_104" id="argTypes_123_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_123_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_121_18" id="s_123_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_121_68" id="args_123_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareParameters_332_3" id="declareParameters_124_5" title="a reference to a single-file definition"><span class="token sort_Id">declareParameters</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_121_97" id="s_rule_124_23" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <a href="../actions/functions.stx/#zipArgTypes_145_3" id="zipArgTypes_124_31" title="a reference to a single-file definition"><span class="token sort_Id">zipArgTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_121_68" id="args_124_43" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_121_104" id="argTypes_124_49" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">)),</span>
    <a href="#nestedAcRulesOk_117_3" id="nestedAcRulesOk_125_5" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRulesOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_121_97" id="s_rule_125_21" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#nested_121_83" id="nested_125_29" title="a reference to a single-file definition"><span class="token sort_Id">nested</span></a></span><span class="operator">),</span>
    <a href="../webdsl-types.stx/#equalType_289_3" id="equalType_126_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_126_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_121_97" id="s_rule_126_25" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_121_78" id="exp_126_33" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_126_39" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_121_18" id="s_126_44" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Rule should contain a Bool expression</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_121_78" id="exp_126_98" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#nestedAcRuleOk_118_3" id="nestedAcRuleOk_128_3" title="a reference to a single-file definition"><span class="token sort_Id">nestedAcRuleOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_128_18" title="a definition with multiple references" data-urls="#s line 129_29, 130_44"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#SpecialAccessControlRule_50_5" id="SpecialAccessControlRule_128_21" title="a reference to a single-file definition"><span class="token sort_Id">SpecialAccessControlRule</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="exp_128_46" title="a definition with multiple references" data-urls="#exp line 130_33, 130_98"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_rule_128_57" title="a definition with multiple references" data-urls="#s_rule line 129_9, 129_17, 130_25"><span class="token sort_Id">s_rule</span></button></span> <span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_rule_128_57" id="s_rule_129_9" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rule_128_57" id="s_rule_129_17" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../webdsl.stx/#P_45_7" id="P_129_25" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_128_18" id="s_129_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../webdsl-types.stx/#equalType_289_3" id="equalType_130_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_130_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rule_128_57" id="s_rule_130_25" title="a reference to a single-file definition"><span class="token sort_Id">s_rule</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_128_46" id="exp_130_33" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_130_39" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_128_18" id="s_130_44" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Rule should contain a Bool expression</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_128_46" id="exp_130_98" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <button class="modal-open" id="acRuleSignatureOk_132_3" title="a definition with multiple references" data-urls="#acRuleSignatureOk line 98_5, 133_3, 136_3, 137_3, 139_3, 142_3, 147_3, 149_3, 152_3, 158_3, 161_3, 167_3, 170_3"><span class="token sort_Id">acRuleSignatureOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlType_22_5" id="AccessControlType_132_31" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlType</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_21_5" id="MatchName_132_51" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptMatchArgs_13_5" id="OptMatchArgs_132_63" title="a reference to a single-file definition"><span class="token sort_Id">OptMatchArgs</span></a></span>
  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_133_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Var"><a href="#m_133_113" id="m_133_27" title="a definition with a single reference"><span class="token sort_Id">m</span></a></span><span class="operator">,</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This access control signature is not checked yet</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#m_133_27" id="m_133_113" title="a reference to a single-file definition"><span class="token sort_Id">m</span></a></span><span class="operator">.</span>

  <span class="layout">// a wildcard in the name is always ok</span>
  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_136_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchNameWildCard_39_5" id="MatchNameWildCard_136_27" title="a reference to a single-file definition"><span class="token sort_Id">MatchNameWildCard</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="operator">_).</span>
  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_137_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_137_27" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_137_40" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="operator">_).</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_139_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_140_14" id="s_139_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypePage_66_5" id="ACTypePage_139_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypePage</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_139_38" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="p_139_48" title="a definition with multiple references" data-urls="#p line 140_17, 140_83, 140_88"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_139_51" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_139_74" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_139_87" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl-types.stx/#pageType_260_3" id="pageType_140_5" title="a reference to a single-file definition"><span class="token sort_Id">pageType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_139_21" id="s_140_14" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_139_48" id="p_140_17" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="../webdsl-types.stx/#PAGE_26_5" id="PAGE_140_23" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Page rule refers to non-existing page </span><span class="operator">[</span><span class="cons_Var"><a href="#p_139_48" id="p_140_83" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_139_48" id="p_140_88" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_142_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_142_21" title="a definition with multiple references" data-urls="#s line 143_14, 144_17"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypePage_66_5" id="ACTypePage_142_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypePage</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_142_38" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="p_142_48" title="a definition with multiple references" data-urls="#p line 143_17, 143_90, 143_95"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_142_51" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_142_74" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_142_84" title="a definition with multiple references" data-urls="#args line 144_20, 145_117"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_142_90" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="argTypes_142_118" title="a definition with multiple references" data-urls="#argTypes line 144_29, 145_5, 145_52"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="sigTypes_142_127" title="a definition with multiple references" data-urls="#sigTypes line 143_31, 145_17, 145_105"><span class="token sort_Id">sigTypes</span></button></span> <span class="operator">}</span>
    <a href="../webdsl-types.stx/#pageType_260_3" id="pageType_143_5" title="a reference to a single-file definition"><span class="token sort_Id">pageType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_142_21" id="s_143_14" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_142_48" id="p_143_17" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="../webdsl-types.stx/#PAGE_26_5" id="PAGE_143_23" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#sigTypes_142_127" id="sigTypes_143_31" title="a reference to a single-file definition"><span class="token sort_Id">sigTypes</span></a></span><span class="operator">)</span></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Page rule refers to non-existing page </span><span class="operator">[</span><span class="cons_Var"><a href="#p_142_48" id="p_143_90" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_142_48" id="p_143_95" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_144_5" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_142_21" id="s_144_17" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_142_84" id="args_144_20" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#argTypes_142_118" id="argTypes_144_29" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#argTypes_142_118" id="argTypes_145_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <span class="cons_Var"><a href="#sigTypes_142_127" id="sigTypes_145_17" title="a reference to a single-file definition"><span class="token sort_Id">sigTypes</span></a></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Argument types </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_142_118" id="argTypes_145_52" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]</span><span class="cons_Text"> are not equal to the page signature types </span><span class="operator">[</span><span class="cons_Var"><a href="#sigTypes_142_127" id="sigTypes_145_105" title="a reference to a single-file definition"><span class="token sort_Id">sigTypes</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#args_142_84" id="args_145_117" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">.</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_147_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAction_67_5" id="ACTypeAction_147_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAction</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_).</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_149_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_150_27" id="s_149_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeTemplate_68_5" id="ACTypeTemplate_149_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_149_42" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_149_52" title="a definition with multiple references" data-urls="#t line 150_30, 150_101, 150_151"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_149_55" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_149_78" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_149_91" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl.stx/#resolveTemplateNoAjax_183_3" id="resolveTemplateNoAjax_150_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveTemplateNoAjax</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_149_21" id="s_150_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_149_52" id="t_150_30" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_149_52" id="t_150_101" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text">. For ajax templates, use 'rule ajaxtemplate'</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_149_52" id="t_150_151" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_152_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_152_21" title="a definition with multiple references" data-urls="#s line 153_29, 154_50"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeTemplate_68_5" id="ACTypeTemplate_152_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_152_42" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_152_52" title="a definition with multiple references" data-urls="#t line 154_53, 154_113, 154_163, 156_104"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_152_55" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_152_78" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_152_88" title="a definition with multiple references" data-urls="#args line 153_32, 156_140"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_152_94" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="argTypes_152_122" title="a definition with multiple references" data-urls="#argTypes line 153_5, 156_33, 156_128"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="queryResult_152_131" title="a definition with multiple references" data-urls="#queryResult line 154_5, 155_28"><span class="token sort_Id">queryResult</span></button></span> <span class="cons_Var"><button class="modal-open" id="ts_152_143" title="a definition with multiple references" data-urls="#ts line 155_5, 156_43"><span class="token sort_Id">ts</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_152_122" id="argTypes_153_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_153_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_152_21" id="s_153_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_152_88" id="args_153_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#queryResult_152_131" id="queryResult_154_5" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">@[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">==</span> <a href="../webdsl.stx/#resolveTemplateNoAjax_183_3" id="resolveTemplateNoAjax_154_28" title="a reference to a single-file definition"><span class="token sort_Id">resolveTemplateNoAjax</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_152_21" id="s_154_50" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_152_52" id="t_154_53" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_152_52" id="t_154_113" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text">. For ajax templates, use 'rule ajaxtemplate'</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_152_52" id="t_154_163" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <span class="cons_Var"><a href="#ts_152_143" id="ts_155_5" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span> <span class="operator">==</span> <a href="../webdsl.stx/#queryResultTypes_487_3" id="queryResultTypes_155_11" title="a reference to a single-file definition"><span class="token sort_Id">queryResultTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#queryResult_152_131" id="queryResult_155_28" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">),</span>
    <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_156_5" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_152_122" id="argTypes_156_33" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_152_143" id="ts_156_43" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_152_52" id="t_156_104" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> with argument types </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_152_122" id="argTypes_156_128" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#args_152_88" id="args_156_140" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_158_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_159_25" id="s_158_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAjaxTemplate_69_5" id="ACTypeAjaxTemplate_158_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAjaxTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_158_46" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_158_56" title="a definition with multiple references" data-urls="#t line 159_28, 159_104, 159_154"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_158_59" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_158_82" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_158_95" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl.stx/#resolveAjaxTemplate_172_3" id="resolveAjaxTemplate_159_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveAjaxTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_158_21" id="s_159_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_158_56" id="t_159_28" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Ajax template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_158_56" id="t_159_104" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text">. For non-ajax templates, use 'rule template'</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_158_56" id="t_159_154" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_161_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_161_21" title="a definition with multiple references" data-urls="#s line 162_29, 163_48"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAjaxTemplate_69_5" id="ACTypeAjaxTemplate_161_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAjaxTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_161_46" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_161_56" title="a definition with multiple references" data-urls="#t line 163_51, 163_111, 163_161, 165_104"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_161_59" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_161_82" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_161_92" title="a definition with multiple references" data-urls="#args line 162_32, 165_140"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_161_98" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="argTypes_161_126" title="a definition with multiple references" data-urls="#argTypes line 162_5, 165_33, 165_128"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="queryResult_161_135" title="a definition with multiple references" data-urls="#queryResult line 163_5, 164_28"><span class="token sort_Id">queryResult</span></button></span> <span class="cons_Var"><button class="modal-open" id="ts_161_147" title="a definition with multiple references" data-urls="#ts line 164_5, 165_43"><span class="token sort_Id">ts</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_161_126" id="argTypes_162_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_162_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_161_21" id="s_162_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_161_92" id="args_162_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#queryResult_161_135" id="queryResult_163_5" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">@[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">==</span> <a href="../webdsl.stx/#resolveAjaxTemplate_172_3" id="resolveAjaxTemplate_163_28" title="a reference to a single-file definition"><span class="token sort_Id">resolveAjaxTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_161_21" id="s_163_48" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_161_56" id="t_163_51" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_161_56" id="t_163_111" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text">. For non-ajax templates, use 'rule template'</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_161_56" id="t_163_161" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <span class="cons_Var"><a href="#ts_161_147" id="ts_164_5" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span> <span class="operator">==</span> <a href="../webdsl.stx/#queryResultTypes_487_3" id="queryResultTypes_164_11" title="a reference to a single-file definition"><span class="token sort_Id">queryResultTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#queryResult_161_135" id="queryResult_164_28" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">),</span>
    <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_165_5" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_161_126" id="argTypes_165_33" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_161_147" id="ts_165_43" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_161_56" id="t_165_104" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> with argument types </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_161_126" id="argTypes_165_128" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#args_161_92" id="args_165_140" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_167_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_168_21" id="s_167_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypePointcut_70_5" id="ACTypePointcut_167_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypePointcut</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_167_42" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="p_167_52" title="a definition with multiple references" data-urls="#p line 168_24, 168_58, 168_78"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_167_55" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_167_78" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_167_91" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl.stx/#resolvePointcut_209_3" id="resolvePointcut_168_5" title="a reference to a single-file definition"><span class="token sort_Id">resolvePointcut</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_167_21" id="s_168_21" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_167_52" id="p_168_24" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">pointcut </span><span class="operator">[</span><span class="cons_Var"><a href="#p_167_52" id="p_168_58" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]</span><span class="cons_Text"> does not exist</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_167_52" id="p_168_78" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acRuleSignatureOk_132_3" id="acRuleSignatureOk_170_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_170_21" title="a definition with multiple references" data-urls="#s line 171_29, 172_44"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypePointcut_70_5" id="ACTypePointcut_170_24" title="a reference to a single-file definition"><span class="token sort_Id">ACTypePointcut</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_170_42" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="p_170_52" title="a definition with multiple references" data-urls="#p line 172_47, 172_70, 172_90, 174_104"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_170_55" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchArgs_60_5" id="MatchArgs_170_78" title="a reference to a single-file definition"><span class="token sort_Id">MatchArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_170_88" title="a definition with multiple references" data-urls="#args line 171_32, 174_141"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_170_94" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="argTypes_170_122" title="a definition with multiple references" data-urls="#argTypes line 171_5, 174_33, 174_129"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="queryResult_170_131" title="a definition with multiple references" data-urls="#queryResult line 172_5, 173_28"><span class="token sort_Id">queryResult</span></button></span> <span class="cons_Var"><button class="modal-open" id="ts_170_143" title="a definition with multiple references" data-urls="#ts line 173_5, 174_43"><span class="token sort_Id">ts</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_170_122" id="argTypes_171_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_171_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_170_21" id="s_171_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_170_88" id="args_171_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#queryResult_170_131" id="queryResult_172_5" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">@[_</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">==</span> <a href="../webdsl.stx/#resolvePointcut_209_3" id="resolvePointcut_172_28" title="a reference to a single-file definition"><span class="token sort_Id">resolvePointcut</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_170_21" id="s_172_44" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_170_52" id="p_172_47" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">pointcut </span><span class="operator">[</span><span class="cons_Var"><a href="#p_170_52" id="p_172_70" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]</span><span class="cons_Text"> does not exist</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_170_52" id="p_172_90" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <span class="cons_Var"><a href="#ts_170_143" id="ts_173_5" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span> <span class="operator">==</span> <a href="../webdsl.stx/#queryResultTypes_487_3" id="queryResultTypes_173_11" title="a reference to a single-file definition"><span class="token sort_Id">queryResultTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#queryResult_170_131" id="queryResult_173_28" title="a reference to a single-file definition"><span class="token sort_Id">queryResult</span></a></span><span class="operator">),</span>
    <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_174_5" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_170_122" id="argTypes_174_33" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_170_143" id="ts_174_43" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Pointcut rule refers to non-existing pointcut </span><span class="operator">[</span><span class="cons_Var"><a href="#p_170_52" id="p_174_104" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]</span><span class="cons_Text"> with argumnent types </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_170_122" id="argTypes_174_129" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#args_170_88" id="args_174_141" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <button class="modal-open" id="acRuleSignatureArgsMatching_176_3" title="a definition with multiple references" data-urls="#acRuleSignatureArgsMatching line 156_5, 165_5, 174_5, 177_3, 178_3, 179_3, 180_3, 180_50"><span class="token sort_Id">acRuleSignatureArgsMatching</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_176_38" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_176_51" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_177_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(_,</span> <span class="operator">[])</span> <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>
  <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_178_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><span id="args_178_31" title="a definition with no references"><span class="token sort_Id">args</span></span></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Op"><a href="../webdsl-types.stx/#TEMPLATE_29_5" id="TEMPLATE_178_38" title="a reference to a single-file definition"><span class="token sort_Id">TEMPLATE</span></a><span class="operator">(_,</span> <span class="cons_Var">args</span><span class="operator">,</span> <span class="operator">_)</span></span> <span class="operator">|</span> <span class="operator">_]).</span>
  <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_179_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><span id="args_179_31" title="a definition with no references"><span class="token sort_Id">args</span></span></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Op"><a href="../webdsl-types.stx/#POINTCUT_32_5" id="POINTCUT_179_38" title="a reference to a single-file definition"><span class="token sort_Id">POINTCUT</span></a><span class="operator">(_,</span> <span class="cons_Var">args</span><span class="operator">)</span></span> <span class="operator">|</span> <span class="operator">_]).</span>
  <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_180_3" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_180_78" id="args_180_31" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="cons_Var"><a href="#ts_180_84" id="ts_180_42" title="a definition with a single reference"><span class="token sort_Id">ts</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#acRuleSignatureArgsMatching_176_3" id="acRuleSignatureArgsMatching_180_50" title="a reference to a single-file definition"><span class="token sort_Id">acRuleSignatureArgsMatching</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_180_31" id="args_180_78" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_180_42" id="ts_180_84" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// predicates</span>

  <a href="../webdsl.stx/#defOk_356_3" id="defOk_184_3" title="a reference to a single-file definition"><span class="token sort_Id">defOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_184_52" id="s_184_9" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#Predicate_43_5" id="Predicate_184_12" title="a reference to a single-file definition"><span class="token sort_Id">Predicate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#p_184_55" id="p_184_22" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_184_58" id="args_184_25" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_184_64" id="exp_184_31" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#predicateOk_189_3" id="predicateOk_184_40" title="a reference to a single-file definition"><span class="token sort_Id">predicateOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_184_9" id="s_184_52" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_184_22" id="p_184_55" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_184_25" id="args_184_58" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_184_31" id="exp_184_64" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#TRUE_34_5" id="TRUE_184_69" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span><span class="operator">).</span>
  <a href="#acDefOk_58_3" id="acDefOk_185_3" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_185_56" id="s_185_11" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#PredicateAc_45_5" id="PredicateAc_185_14" title="a reference to a single-file definition"><span class="token sort_Id">PredicateAc</span></a><span class="operator">(</span><span class="cons_Var"><a href="#p_185_59" id="p_185_26" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_185_62" id="args_185_29" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_185_68" id="exp_185_35" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#predicateOk_189_3" id="predicateOk_185_44" title="a reference to a single-file definition"><span class="token sort_Id">predicateOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_185_11" id="s_185_56" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_185_26" id="p_185_59" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_185_29" id="args_185_62" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_185_35" id="exp_185_68" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#TRUE_34_5" id="TRUE_185_73" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span><span class="operator">).</span>
  <a href="../webdsl-entities.stx/#declEntityBodyDeclaration_107_3" id="declEntityBodyDeclaration_186_3" title="a reference to a single-file definition"><span class="token sort_Id">declEntityBodyDeclaration</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_186_83" id="s_186_29" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#PredicateInEntity_56_5" id="PredicateInEntity_186_35" title="a reference to a single-file definition"><span class="token sort_Id">PredicateInEntity</span></a><span class="operator">(</span><span class="cons_Var"><a href="#p_186_86" id="p_186_53" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_186_89" id="args_186_56" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_186_95" id="exp_186_62" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#predicateOk_189_3" id="predicateOk_186_71" title="a reference to a single-file definition"><span class="token sort_Id">predicateOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_186_29" id="s_186_83" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_186_53" id="p_186_86" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_186_56" id="args_186_89" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_186_62" id="exp_186_95" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#FALSE_35_5" id="FALSE_186_100" title="a reference to a single-file definition"><span class="token sort_Id">FALSE</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <span class="layout">// last bool denotes if predicate is declared in global scope</span>
  <button class="modal-open" id="predicateOk_189_3" title="a definition with multiple references" data-urls="#predicateOk line 184_40, 185_44, 186_71, 190_3"><span class="token sort_Id">predicateOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#OptFormalArgs_12_5" id="OptFormalArgs_189_34" title="a reference to a single-file definition"><span class="token sort_Id">OptFormalArgs</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Exp_25_5" id="Exp_189_50" title="a reference to a single-file definition"><span class="token sort_Id">Exp</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#BOOL_30_5" id="BOOL_189_56" title="a reference to a single-file definition"><span class="token sort_Id">BOOL</span></a></span>
  <a href="#predicateOk_189_3" id="predicateOk_190_3" title="a reference to a single-file definition"><span class="token sort_Id">predicateOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_190_15" title="a definition with multiple references" data-urls="#s line 191_18, 192_39, 193_29, 195_36, 199_19"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="p_190_18" title="a definition with multiple references" data-urls="#p line 195_116, 199_22"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#FormalArgs_57_5" id="FormalArgs_190_21" title="a reference to a single-file definition"><span class="token sort_Id">FormalArgs</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="args_190_32" title="a definition with multiple references" data-urls="#args line 193_32, 194_48, 199_41"><span class="token sort_Id">args</span></button></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_190_39" title="a definition with multiple references" data-urls="#exp line 198_38, 198_105"><span class="token sort_Id">exp</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#global_199_64" id="global_190_44" title="a definition with a single reference"><span class="token sort_Id">global</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="bool_190_57" title="a definition with multiple references" data-urls="#bool line 191_5, 197_41, 198_44, 199_58"><span class="token sort_Id">bool</span></button></span> <span class="cons_Var"><button class="modal-open" id="s_predicate_190_62" title="a definition with multiple references" data-urls="#s_predicate line 192_9, 192_22, 194_23, 196_16, 197_16, 198_25"><span class="token sort_Id">s_predicate</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_190_74" title="a definition with multiple references" data-urls="#argTypes line 193_5, 194_54, 199_48"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="principalType_190_83" title="a definition with multiple references" data-urls="#principalType line 195_5, 196_42"><span class="token sort_Id">principalType</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#bool_190_57" id="bool_191_5" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span> <span class="operator">==</span> <a href="../types/built-ins.stx/#bool_72_3" id="bool_191_13" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_190_15" id="s_191_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_192_9" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_192_22" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../webdsl.stx/#F_46_7" id="F_192_35" title="a reference to a single-file definition"><span class="token sort_Id">F</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_190_15" id="s_192_39" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#argTypes_190_74" id="argTypes_193_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_193_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_190_15" id="s_193_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_190_32" id="args_193_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareParameters_332_3" id="declareParameters_194_5" title="a reference to a single-file definition"><span class="token sort_Id">declareParameters</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_194_23" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span><span class="operator">,</span> <a href="../actions/functions.stx/#zipArgTypes_145_3" id="zipArgTypes_194_36" title="a reference to a single-file definition"><span class="token sort_Id">zipArgTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_190_32" id="args_194_48" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_190_74" id="argTypes_194_54" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">)),</span>
    <span class="cons_Var"><a href="#principalType_190_83" id="principalType_195_5" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span> <span class="operator">==</span> <a href="#principalType_266_3" id="principalType_195_22" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_190_15" id="s_195_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Cannot have access control rules without a principal declaration</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_190_18" id="p_195_116" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_196_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_196_16" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principal<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#principalType_190_83" id="principalType_196_42" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declareVar_301_3" id="declareVar_197_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_197_16" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>loggedIn<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#bool_190_57" id="bool_197_41" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">),</span>
    <a href="../webdsl-types.stx/#equalType_289_3" id="equalType_198_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_198_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_predicate_190_62" id="s_predicate_198_25" title="a reference to a single-file definition"><span class="token sort_Id">s_predicate</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_190_39" id="exp_198_38" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#bool_190_57" id="bool_198_44" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Predicate should contain a Bool expression</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_190_39" id="exp_198_105" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="#declPredicate_202_3" id="declPredicate_199_5" title="a reference to a single-file definition"><span class="token sort_Id">declPredicate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_190_15" id="s_199_19" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_190_18" id="p_199_22" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#FUNCTION_ORIGIN_37_5" id="FUNCTION_ORIGIN_199_25" title="a reference to a single-file definition"><span class="token sort_Id">FUNCTION_ORIGIN</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_190_32" id="args_199_41" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_190_74" id="argTypes_199_48" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#bool_190_57" id="bool_199_58" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#global_190_44" id="global_199_64" title="a reference to a single-file definition"><span class="token sort_Id">global</span></a></span><span class="operator">).</span>

  <span class="layout">// last bool arg denotes if the scope is global</span>
  <button class="modal-open" id="declPredicate_202_3" title="a definition with multiple references" data-urls="#declPredicate line 199_5, 203_3, 204_3"><span class="token sort_Id">declPredicate</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#ORIGIN_31_5" id="ORIGIN_202_36" title="a reference to a single-file definition"><span class="token sort_Id">ORIGIN</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_202_50" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_202_58" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#BOOL_30_5" id="BOOL_202_65" title="a reference to a single-file definition"><span class="token sort_Id">BOOL</span></a></span>
  <a href="#declPredicate_202_3" id="declPredicate_203_3" title="a reference to a single-file definition"><span class="token sort_Id">declPredicate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_203_79" id="s_203_17" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_203_82" id="p_203_20" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#origin_203_85" id="origin_203_23" title="a definition with a single reference"><span class="token sort_Id">origin</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_203_93" id="argTypes_203_31" title="a definition with a single reference"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#return_203_103" id="return_203_41" title="a definition with a single reference"><span class="token sort_Id">return</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#TRUE_34_5" id="TRUE_203_49" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="../actions/functions.stx/#declFunctionGlobal_128_3" id="declFunctionGlobal_203_60" title="a reference to a single-file definition"><span class="token sort_Id">declFunctionGlobal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_203_17" id="s_203_79" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_203_20" id="p_203_82" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#origin_203_23" id="origin_203_85" title="a reference to a single-file definition"><span class="token sort_Id">origin</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_203_31" id="argTypes_203_93" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#return_203_41" id="return_203_103" title="a reference to a single-file definition"><span class="token sort_Id">return</span></a></span><span class="operator">).</span>
  <a href="#declPredicate_202_3" id="declPredicate_204_3" title="a reference to a single-file definition"><span class="token sort_Id">declPredicate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_204_80" id="s_204_17" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_204_83" id="p_204_20" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#origin_204_86" id="origin_204_23" title="a definition with a single reference"><span class="token sort_Id">origin</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_204_94" id="argTypes_204_31" title="a definition with a single reference"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#return_204_104" id="return_204_41" title="a definition with a single reference"><span class="token sort_Id">return</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#FALSE_35_5" id="FALSE_204_49" title="a reference to a single-file definition"><span class="token sort_Id">FALSE</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="../actions/functions.stx/#declFunctionEntity_133_3" id="declFunctionEntity_204_61" title="a reference to a single-file definition"><span class="token sort_Id">declFunctionEntity</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_204_17" id="s_204_80" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_204_20" id="p_204_83" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#origin_204_23" id="origin_204_86" title="a reference to a single-file definition"><span class="token sort_Id">origin</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_204_31" id="argTypes_204_94" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#return_204_41" id="return_204_104" title="a reference to a single-file definition"><span class="token sort_Id">return</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../webdsl.stx/#FALSE_35_5" id="FALSE_204_112" title="a reference to a single-file definition"><span class="token sort_Id">FALSE</span></a><span class="operator">()</span></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// pointcuts</span>

  <a href="#acDefOk_58_3" id="acDefOk_208_3" title="a reference to a single-file definition"><span class="token sort_Id">acDefOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_208_11" title="a definition with multiple references" data-urls="#s line 209_23, 210_21, 213_23"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcut_47_5" id="AccessControlPointcut_208_14" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcut</span></a><span class="operator">(</span><span class="cons_Var"><a href="#p_210_24" id="p_208_36" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="fargs_208_39" title="a definition with multiple references" data-urls="#fargs line 209_26, 212_47, 213_47"><span class="token sort_Id">fargs</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#elems_213_59" id="elems_208_46" title="a definition with a single reference"><span class="token sort_Id">elems</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="ts_208_59" title="a definition with multiple references" data-urls="#ts line 209_5, 210_27, 212_54, 213_55"><span class="token sort_Id">ts</span></button></span> <span class="cons_Var"><button class="modal-open" id="s_pointcut_208_62" title="a definition with multiple references" data-urls="#s_pointcut line 211_9, 212_23, 213_26"><span class="token sort_Id">s_pointcut</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#ts_208_59" id="ts_209_5" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span> <span class="operator">==</span> <a href="../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_209_11" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_208_11" id="s_209_23" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#fargs_208_39" id="fargs_209_26" title="a reference to a single-file definition"><span class="token sort_Id">fargs</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#declarePointcut_204_3" id="declarePointcut_210_5" title="a reference to a single-file definition"><span class="token sort_Id">declarePointcut</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_208_11" id="s_210_21" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_208_36" id="p_210_24" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_208_59" id="ts_210_27" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_pointcut_208_62" id="s_pointcut_211_9" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span>
    <a href="../webdsl.stx/#declareParameters_332_3" id="declareParameters_212_5" title="a reference to a single-file definition"><span class="token sort_Id">declareParameters</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_pointcut_208_62" id="s_pointcut_212_23" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <a href="../actions/functions.stx/#zipArgTypes_145_3" id="zipArgTypes_212_35" title="a reference to a single-file definition"><span class="token sort_Id">zipArgTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#fargs_208_39" id="fargs_212_47" title="a reference to a single-file definition"><span class="token sort_Id">fargs</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_208_59" id="ts_212_54" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)),</span>
    <a href="#acPointcutElemsOk_215_3" id="acPointcutElemsOk_213_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElemsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_208_11" id="s_213_23" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_208_62" id="s_pointcut_213_26" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <a href="../webdsl.stx/#argNames_491_3" id="argNames_213_38" title="a reference to a single-file definition"><span class="token sort_Id">argNames</span></a><span class="operator">(</span><span class="cons_Var"><a href="#fargs_208_39" id="fargs_213_47" title="a reference to a single-file definition"><span class="token sort_Id">fargs</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#ts_208_59" id="ts_213_55" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elems_208_46" id="elems_213_59" title="a reference to a single-file definition"><span class="token sort_Id">elems</span></a></span><span class="operator">).</span>

  <a href="#acPointcutElemsOk_213_5" id="acPointcutElemsOk_215_3" title="a definition with a single reference"><span class="token sort_Id">acPointcutElemsOk</span></a> <span class="keyword">maps</span> <a href="#acPointcutElemOk_216_3" id="acPointcutElemOk_215_26" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElemOk</span></a><span class="operator">(*,</span> <span class="operator">*,</span> <span class="operator">*,</span> <span class="operator">*,</span> <span class="keyword">list</span><span class="operator">(*))</span>
  <button class="modal-open" id="acPointcutElemOk_216_3" title="a definition with multiple references" data-urls="#acPointcutElemOk line 215_26, 217_3"><span class="token sort_Id">acPointcutElemOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_StringSort"><span class="keyword">string</span></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_216_58" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_18_5" id="AccessControlPointcutElement_216_66" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a></span>
  <a href="#acPointcutElemOk_216_3" id="acPointcutElemOk_217_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElemOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_218_30" id="s_217_20" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_218_33" id="s_pointcut_217_23" title="a definition with a single reference"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#pointcutArgNames_219_22" id="pointcutArgNames_217_35" title="a definition with a single reference"><span class="token sort_Id">pointcutArgNames</span></a></span><span class="operator">,</span> <span class="cons_Var"><span id="ts_217_53" title="a definition with no references"><span class="token sort_Id">ts</span></span></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="elem_217_57" title="a definition with multiple references" data-urls="#elem line 218_45, 219_46"><span class="token sort_Id">elem</span></button></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_217_62" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Var"><a href="#args_219_40" id="args_217_97" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_218_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_217_20" id="s_218_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_217_23" id="s_pointcut_218_33" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elem_217_57" id="elem_218_45" title="a reference to a single-file definition"><span class="token sort_Id">elem</span></a></span><span class="operator">),</span>
    <a href="#pointcutArgsUsed_282_3" id="pointcutArgsUsed_219_5" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgsUsed</span></a><span class="operator">(</span><span class="cons_Var"><a href="#pointcutArgNames_217_35" id="pointcutArgNames_219_22" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgNames</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_217_97" id="args_219_40" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elem_217_57" id="elem_219_46" title="a reference to a single-file definition"><span class="token sort_Id">elem</span></a></span><span class="operator">).</span>
<span class="layout">//    sameElements(pointcutArgNames, args) | error $[Pointcut element must use all pointcut arguments: [pointcutArgNames]] @elem.</span>

  <button class="modal-open" id="acPointcutElementDefined_222_3" title="a definition with multiple references" data-urls="#acPointcutElementDefined line 218_5, 223_3, 224_3, 227_3, 232_3, 237_3, 242_3"><span class="token sort_Id">acPointcutElementDefined</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_18_5" id="AccessControlPointcutElement_222_46" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a></span>
  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_223_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_223_34" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_223_66" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><span id="p_223_76" title="a definition with no references"><span class="token sort_Id">p</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_223_79" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">).</span>
  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_224_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_224_34" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_225_99" id="t_224_63" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Only pages, templates, ajaxtemplates and actions are supported in pointcuts</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_224_63" id="t_225_99" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_227_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_229_17" id="s_227_28" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_228_44" id="s_pointcut_227_31" title="a definition with a single reference"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elem_230_111" id="elem_227_43" title="a definition with a single reference"><span class="token sort_Id">elem</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_227_48" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypePage_66_5" id="ACTypePage_227_77" title="a reference to a single-file definition"><span class="token sort_Id">ACTypePage</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_227_91" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="p_227_101" title="a definition with multiple references" data-urls="#p line 229_20, 229_99, 229_104, 230_106"><span class="token sort_Id">p</span></button></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_228_56" id="args_227_108" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_230_51" id="optWc_227_114" title="a definition with a single reference"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="ts_227_127" title="a definition with multiple references" data-urls="#ts line 229_43, 230_47"><span class="token sort_Id">ts</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_227_130" title="a definition with multiple references" data-urls="#argTypes line 228_5, 230_37"><span class="token sort_Id">argTypes</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_227_130" id="argTypes_228_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="#typesOfPointcutIdentifiers_277_3" id="typesOfPointcutIdentifiers_228_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfPointcutIdentifiers</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_pointcut_227_31" id="s_pointcut_228_44" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_227_108" id="args_228_56" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#resolvePage_196_3" id="resolvePage_229_5" title="a reference to a single-file definition"><span class="token sort_Id">resolvePage</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_227_28" id="s_229_17" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_227_101" id="p_229_20" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#PAGE_26_5" id="PAGE_229_35" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#ts_227_127" id="ts_229_43" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Page rule refers to non-existing page </span><span class="operator">[</span><span class="cons_Var"><a href="#p_227_101" id="p_229_99" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#p_227_101" id="p_229_104" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_230_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_227_130" id="argTypes_230_37" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_227_127" id="ts_230_47" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_227_114" id="optWc_230_51" title="a reference to a single-file definition"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Incompatible argument types for page </span><span class="operator">[</span><span class="cons_Var"><a href="#p_227_101" id="p_230_106" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#elem_227_43" id="elem_230_111" title="a reference to a single-file definition"><span class="token sort_Id">elem</span></a></span><span class="operator">.</span>

  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_232_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_234_27" id="s_232_28" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_233_44" id="s_pointcut_232_31" title="a definition with a single reference"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elem_235_149" id="elem_232_43" title="a definition with a single reference"><span class="token sort_Id">elem</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_232_48" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeTemplate_68_5" id="ACTypeTemplate_232_77" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_232_95" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_232_105" title="a definition with multiple references" data-urls="#t line 234_30, 234_124, 234_129, 235_115"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_233_56" id="args_232_112" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_235_51" id="optWc_232_118" title="a definition with a single reference"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="ts_232_131" title="a definition with multiple references" data-urls="#ts line 234_57, 235_47"><span class="token sort_Id">ts</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_232_134" title="a definition with multiple references" data-urls="#argTypes line 233_5, 235_37"><span class="token sort_Id">argTypes</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_232_134" id="argTypes_233_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="#typesOfPointcutIdentifiers_277_3" id="typesOfPointcutIdentifiers_233_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfPointcutIdentifiers</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_pointcut_232_31" id="s_pointcut_233_44" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_232_112" id="args_233_56" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#resolveTemplateNoAjax_183_3" id="resolveTemplateNoAjax_234_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveTemplateNoAjax</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_232_28" id="s_234_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_232_105" id="t_234_30" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#TEMPLATE_29_5" id="TEMPLATE_234_45" title="a reference to a single-file definition"><span class="token sort_Id">TEMPLATE</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#ts_232_131" id="ts_234_57" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_232_105" id="t_234_124" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_232_105" id="t_234_129" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_235_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_232_134" id="argTypes_235_37" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_232_131" id="ts_235_47" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_232_118" id="optWc_235_51" title="a reference to a single-file definition"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_232_105" id="t_235_115" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> for the given argument types</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#elem_232_43" id="elem_235_149" title="a reference to a single-file definition"><span class="token sort_Id">elem</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_237_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_239_25" id="s_237_28" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pointcut_238_44" id="s_pointcut_237_31" title="a definition with a single reference"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#elem_240_154" id="elem_237_43" title="a definition with a single reference"><span class="token sort_Id">elem</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_237_48" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAjaxTemplate_69_5" id="ACTypeAjaxTemplate_237_77" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAjaxTemplate</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#MatchName_40_5" id="MatchName_237_99" title="a reference to a single-file definition"><span class="token sort_Id">MatchName</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_237_109" title="a definition with multiple references" data-urls="#t line 239_28, 239_127, 239_132, 240_120"><span class="token sort_Id">t</span></button></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_238_56" id="args_237_116" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_240_51" id="optWc_237_122" title="a definition with a single reference"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="ts_237_135" title="a definition with multiple references" data-urls="#ts line 239_55, 240_47"><span class="token sort_Id">ts</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_237_138" title="a definition with multiple references" data-urls="#argTypes line 238_5, 240_37"><span class="token sort_Id">argTypes</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_237_138" id="argTypes_238_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="#typesOfPointcutIdentifiers_277_3" id="typesOfPointcutIdentifiers_238_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfPointcutIdentifiers</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_pointcut_237_31" id="s_pointcut_238_44" title="a reference to a single-file definition"><span class="token sort_Id">s_pointcut</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_237_116" id="args_238_56" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../webdsl.stx/#resolveAjaxTemplate_172_3" id="resolveAjaxTemplate_239_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveAjaxTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_237_28" id="s_239_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_237_109" id="t_239_28" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#TEMPLATE_29_5" id="TEMPLATE_239_43" title="a reference to a single-file definition"><span class="token sort_Id">TEMPLATE</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#ts_237_135" id="ts_239_55" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="operator">_)</span></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Ajax template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_237_109" id="t_239_127" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_237_109" id="t_239_132" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_240_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_237_138" id="argTypes_240_37" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_237_135" id="ts_240_47" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_237_122" id="optWc_240_51" title="a reference to a single-file definition"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Ajax template rule refers to non-existing template </span><span class="operator">[</span><span class="cons_Var"><a href="#t_237_109" id="t_240_120" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> for the given argument types</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#elem_237_43" id="elem_240_154" title="a reference to a single-file definition"><span class="token sort_Id">elem</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>

  <a href="#acPointcutElementDefined_222_3" id="acPointcutElementDefined_242_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementDefined</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Var"><span id="elem_242_34" title="a definition with no references"><span class="token sort_Id">elem</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_51_5" id="AccessControlPointcutElement_242_39" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#ACTypeAction_67_5" id="ACTypeAction_242_68" title="a reference to a single-file definition"><span class="token sort_Id">ACTypeAction</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">).</span>

  <button class="modal-open" id="acPointcutElementArgsCompatible_244_3" title="a definition with multiple references" data-urls="#acPointcutElementArgsCompatible line 230_5, 235_5, 240_5, 245_3, 246_3, 247_3, 248_3, 249_3, 251_5"><span class="token sort_Id">acPointcutElementArgsCompatible</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_244_42" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_244_55" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArg_15_5" id="OptWildCardArg_244_63" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArg</span></a></span>
  <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_245_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">([],</span> <span class="operator">[],</span> <span class="operator">_).</span>
  <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_246_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">([],</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="operator">_],</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#WildCardArg_64_5" id="WildCardArg_246_48" title="a reference to a single-file definition"><span class="token sort_Id">WildCardArg</span></a><span class="operator">()</span></span><span class="operator">).</span>
  <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_247_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">([],</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="operator">_],</span> <span class="cons_Op"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#OptWildCardArgNone_65_5" id="OptWildCardArgNone_247_48" title="a reference to a single-file definition"><span class="token sort_Id">OptWildCardArgNone</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>
  <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_248_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">([_</span> <span class="operator">|</span> <span class="operator">_],</span> <span class="operator">[],</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>
  <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_249_3" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">([</span><span class="cons_Var"><a href="#t1_250_20" id="t1_249_36" title="a definition with a single reference"><span class="token sort_Id">t1</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#t1s_251_37" id="t1s_249_41" title="a definition with a single reference"><span class="token sort_Id">t1s</span></a></span><span class="operator">],</span> <span class="operator">[</span><span class="cons_Var"><a href="#t2_250_24" id="t2_249_48" title="a definition with a single reference"><span class="token sort_Id">t2</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#t2s_251_42" id="t2s_249_53" title="a definition with a single reference"><span class="token sort_Id">t2s</span></a></span><span class="operator">],</span> <span class="cons_Var"><a href="#optWc_251_47" id="optWc_249_59" title="a definition with a single reference"><span class="token sort_Id">optWc</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_250_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t1_249_36" id="t1_250_20" title="a reference to a single-file definition"><span class="token sort_Id">t1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t2_249_48" id="t2_250_24" title="a reference to a single-file definition"><span class="token sort_Id">t2</span></a></span><span class="operator">),</span>
    <a href="#acPointcutElementArgsCompatible_244_3" id="acPointcutElementArgsCompatible_251_5" title="a reference to a single-file definition"><span class="token sort_Id">acPointcutElementArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t1s_249_41" id="t1s_251_37" title="a reference to a single-file definition"><span class="token sort_Id">t1s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t2s_249_53" id="t2s_251_42" title="a reference to a single-file definition"><span class="token sort_Id">t2s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#optWc_249_59" id="optWc_251_47" title="a reference to a single-file definition"><span class="token sort_Id">optWc</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// utils</span>

  <a href="#principalPropertyTypes_70_5" id="principalPropertyTypes_255_3" title="a definition with a single reference"><span class="token sort_Id">principalPropertyTypes</span></a> <span class="keyword">maps</span> <a href="#principalPropertyType_256_3" id="principalPropertyType_255_31" title="a reference to a single-file definition"><span class="token sort_Id">principalPropertyType</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*),</span> <span class="operator">*)</span> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">(*)</span>
  <button class="modal-open" id="principalPropertyType_256_3" title="a definition with multiple references" data-urls="#principalPropertyType line 255_31, 257_3, 259_3"><span class="token sort_Id">principalPropertyType</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_256_54" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#principalPropertyType_256_3" id="principalPropertyType_257_3" title="a reference to a single-file definition"><span class="token sort_Id">principalPropertyType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_258_23" id="s_257_25" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="x_257_28" title="a definition with multiple references" data-urls="#x line 258_26, 258_40"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_258_72" id="ent_257_31" title="a definition with a single reference"><span class="token sort_Id">ent</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_258_5" id="t_257_38" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#t_257_38" id="t_258_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../webdsl-types.stx/#propertyType_244_3" id="propertyType_258_10" title="a reference to a single-file definition"><span class="token sort_Id">propertyType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_257_25" id="s_258_23" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_257_28" id="x_258_26" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[[</span><span class="cons_Var"><a href="#x_257_28" id="x_258_40" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">]</span><span class="cons_Text"> is not a property of entity </span><span class="operator">[</span><span class="cons_Var"><a href="#ent_257_31" id="ent_258_72" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">]].</span> <span class="layout">// correct error message for tests</span>
  <a href="#principalPropertyType_256_3" id="principalPropertyType_259_3" title="a reference to a single-file definition"><span class="token sort_Id">principalPropertyType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_260_23" id="s_259_25" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="x_259_28" title="a definition with multiple references" data-urls="#x line 260_26, 260_88, 260_118"><span class="token sort_Id">x</span></button></span><span class="operator">@</span><span class="cons_Str"><span class="operator">"</span>name<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#ent_260_66" id="ent_259_38" title="a definition with a single reference"><span class="token sort_Id">ent</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_260_5" id="t_259_45" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#t_259_45" id="t_260_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../webdsl-types.stx/#propertyType_244_3" id="propertyType_260_10" title="a reference to a single-file definition"><span class="token sort_Id">propertyType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_259_25" id="s_260_23" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_259_28" id="x_260_26" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Principal credential type </span><span class="operator">[</span><span class="cons_Var"><a href="#ent_259_38" id="ent_260_66" title="a reference to a single-file definition"><span class="token sort_Id">ent</span></a></span><span class="operator">]</span><span class="cons_Text"> does not have a </span><span class="operator">[</span><span class="cons_Var"><a href="#x_259_28" id="x_260_88" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">]</span><span class="cons_Text"> property, a property with </span><span class="operator">[</span><span class="cons_Var"><a href="#x_259_28" id="x_260_118" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">]</span><span class="cons_Text"> annotation is not sufficient for use as credential</span><span class="operator">].</span> <span class="layout">// correct error message for tests</span>

  <button class="modal-open" id="principalDefined_262_3" title="a definition with multiple references" data-urls="#principalDefined line 40_54, 41_51, 42_65, 44_5, 49_48, 50_49, 51_55, 263_3"><span class="token sort_Id">principalDefined</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>
  <a href="#principalDefined_262_3" id="principalDefined_263_3" title="a reference to a single-file definition"><span class="token sort_Id">principalDefined</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_264_19" id="s_263_20" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><a href="#t_264_25" id="t_263_28" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">}</span>
    <a href="#principalType_266_3" id="principalType_264_5" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_263_20" id="s_264_19" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#t_263_28" id="t_264_25" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Principal is not defined</span><span class="operator">].</span>

  <button class="modal-open" id="principalType_266_3" title="a definition with multiple references" data-urls="#principalType line 103_22, 112_22, 195_22, 264_5, 267_3"><span class="token sort_Id">principalType</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_266_28" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#principalType_266_3" id="principalType_267_3" title="a reference to a single-file definition"><span class="token sort_Id">principalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_268_17" id="s_267_17" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_269_65" id="t_267_22" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_securityContext_267_29" title="a definition with multiple references" data-urls="#s_securityContext line 268_61, 269_21"><span class="token sort_Id">s_securityContext</span></button></span> <span class="operator">}</span>
    <a href="../webdsl.stx/#resolveType_105_3" id="resolveType_268_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_267_17" id="s_268_17" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#ENTITY_20_5" id="ENTITY_268_51" title="a reference to a single-file definition"><span class="token sort_Id">ENTITY</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#s_securityContext_267_29" id="s_securityContext_268_61" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">)</span></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">securityContext not defined</span><span class="operator">],</span>
    <a href="../webdsl.stx/#resolveProperty_314_3" id="resolveProperty_269_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveProperty</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_securityContext_267_29" id="s_securityContext_269_21" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>principal<span class="operator">"</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><a href="#t_267_22" id="t_269_65" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">))].</span> <span class="layout">// no fixed error message here to allow more specific error messages on higher predicates</span>

  <button class="modal-open" id="credentialTypes_271_3" title="a definition with multiple references" data-urls="#credentialTypes line 46_24, 272_3"><span class="token sort_Id">credentialTypes</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_271_35" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#credentialTypes_271_3" id="credentialTypes_272_3" title="a reference to a single-file definition"><span class="token sort_Id">credentialTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_273_17" id="s_272_19" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#ts_275_28" id="ts_272_24" title="a definition with a single reference"><span class="token sort_Id">ts</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_securityContext_272_32" title="a definition with multiple references" data-urls="#s_securityContext line 273_61, 274_38"><span class="token sort_Id">s_securityContext</span></button></span> <span class="cons_Var"><button class="modal-open" id="result_272_50" title="a definition with multiple references" data-urls="#result line 274_77, 275_5"><span class="token sort_Id">result</span></button></span> <span class="operator">}</span>
    <a href="../webdsl.stx/#resolveType_105_3" id="resolveType_273_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_272_19" id="s_273_17" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>securityContext<span class="operator">"</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Op"><a href="../webdsl-types.stx/#ENTITY_20_5" id="ENTITY_273_51" title="a reference to a single-file definition"><span class="token sort_Id">ENTITY</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#s_securityContext_272_32" id="s_securityContext_273_61" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">)</span></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">securityContext not defined</span><span class="operator">],</span>
    <a href="../webdsl.stx/#queryResultTypes_487_3" id="queryResultTypes_274_5" title="a reference to a single-file definition"><span class="token sort_Id">queryResultTypes</span></a><span class="operator">(</span><a href="../webdsl.stx/#resolveProperty_314_3" id="resolveProperty_274_22" title="a reference to a single-file definition"><span class="token sort_Id">resolveProperty</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_securityContext_272_32" id="s_securityContext_274_38" title="a reference to a single-file definition"><span class="token sort_Id">s_securityContext</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>_credentials<span class="operator">"</span></span><span class="operator">))</span> <span class="operator">==</span> <span class="cons_Var"><a href="#result_272_50" id="result_274_77" title="a reference to a single-file definition"><span class="token sort_Id">result</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#result_272_50" id="result_275_5" title="a reference to a single-file definition"><span class="token sort_Id">result</span></a></span> <span class="operator">==</span> <span class="operator">[</span><span class="cons_Op"><a href="../webdsl-types.stx/#CREDENTIALS_33_5" id="CREDENTIALS_275_16" title="a reference to a single-file definition"><span class="token sort_Id">CREDENTIALS</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ts_272_24" id="ts_275_28" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span></span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">No credentials have been defined</span><span class="operator">].</span>

  <button class="modal-open" id="typesOfPointcutIdentifiers_277_3" title="a definition with multiple references" data-urls="#typesOfPointcutIdentifiers line 228_17, 233_17, 238_17"><span class="token sort_Id">typesOfPointcutIdentifiers</span></button> <span class="keyword">maps</span> <a href="#typesOfPointcutIdentifier_278_3" id="typesOfPointcutIdentifier_277_35" title="a reference to a single-file definition"><span class="token sort_Id">typesOfPointcutIdentifier</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">(*)</span>
  <button class="modal-open" id="typesOfPointcutIdentifier_278_3" title="a definition with multiple references" data-urls="#typesOfPointcutIdentifier line 277_35, 279_3"><span class="token sort_Id">typesOfPointcutIdentifier</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../webdsl.stx/#TYPE_29_5" id="TYPE_278_49" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typesOfPointcutIdentifier_278_3" id="typesOfPointcutIdentifier_279_3" title="a reference to a single-file definition"><span class="token sort_Id">typesOfPointcutIdentifier</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_280_16" id="s_279_29" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="x_279_32" title="a definition with multiple references" data-urls="#x line 280_19, 280_91"><span class="token sort_Id">x</span></button></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_280_34" id="t_279_37" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span>
    <a href="../webdsl.stx/#resolveVar_306_3" id="resolveVar_280_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_279_29" id="s_280_16" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_279_32" id="x_280_19" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><a href="#t_279_37" id="t_280_34" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">))]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Pointcut element uses unknown identifier </span><span class="operator">[</span><span class="cons_Var"><a href="#x_279_32" id="x_280_91" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">]].</span> <span class="layout">// correct error message for tests</span>

  <a href="#pointcutArgsUsed_219_5" id="pointcutArgsUsed_282_3" title="a definition with a single reference"><span class="token sort_Id">pointcutArgsUsed</span></a> <span class="keyword">maps</span> <a href="#pointcutArgUsed_283_3" id="pointcutArgUsed_282_25" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgUsed</span></a><span class="operator">(</span><span class="keyword">list</span><span class="operator">(*),</span> <span class="operator">*,</span> <span class="operator">*)</span>
  <button class="modal-open" id="pointcutArgUsed_283_3" title="a definition with multiple references" data-urls="#pointcutArgUsed line 282_25, 284_3, 285_3, 286_3, 286_40"><span class="token sort_Id">pointcutArgUsed</span></button> <span class="operator">:</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_StringSort"><span class="keyword">string</span></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../src-gen/statix/signatures/WebDSL-AccessControl-sig.stx/#AccessControlPointcutElement_18_5" id="AccessControlPointcutElement_283_45" title="a reference to a single-file definition"><span class="token sort_Id">AccessControlPointcutElement</span></a></span>
  <a href="#pointcutArgUsed_283_3" id="pointcutArgUsed_284_3" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgUsed</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_284_95" id="x_284_19" title="a definition with a single reference"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Var"><a href="#loc_284_100" id="loc_284_26" title="a definition with a single reference"><span class="token sort_Id">loc</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Pointcut element must use pointcut argument </span><span class="operator">[</span><span class="cons_Var"><a href="#x_284_19" id="x_284_95" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#loc_284_26" id="loc_284_100" title="a reference to a single-file definition"><span class="token sort_Id">loc</span></a></span><span class="operator">.</span> <span class="layout">// correct error message for tests</span>
  <a href="#pointcutArgUsed_283_3" id="pointcutArgUsed_285_3" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgUsed</span></a><span class="operator">(</span><span class="cons_Var">x</span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><span id="x_285_23" title="a definition with no references"><span class="token sort_Id">x</span></span></span> <span class="operator">|</span> <span class="operator">_],</span> <span class="operator">_).</span>
  <a href="#pointcutArgUsed_283_3" id="pointcutArgUsed_286_3" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgUsed</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_286_56" id="x_286_19" title="a definition with a single reference"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="operator">[_</span> <span class="operator">|</span> <span class="cons_Var"><a href="#ys_286_59" id="ys_286_27" title="a definition with a single reference"><span class="token sort_Id">ys</span></a></span><span class="operator">],</span> <span class="cons_Var"><a href="#loc_286_63" id="loc_286_32" title="a definition with a single reference"><span class="token sort_Id">loc</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#pointcutArgUsed_283_3" id="pointcutArgUsed_286_40" title="a reference to a single-file definition"><span class="token sort_Id">pointcutArgUsed</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_286_19" id="x_286_56" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ys_286_27" id="ys_286_59" title="a reference to a single-file definition"><span class="token sort_Id">ys</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#loc_286_32" id="loc_286_63" title="a reference to a single-file definition"><span class="token sort_Id">loc</span></a></span><span class="operator">).</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.copy", "navigation.indexes", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../../../javascripts/modal.js"></script>
      
    
  </body>
</html>