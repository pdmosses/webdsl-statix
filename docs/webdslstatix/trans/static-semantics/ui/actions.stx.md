---
title: actions.stx
hide:
  - toc
---

# `actions.stx`

:simple-github: [pdmosses/webdsl-statix/webdslstatix/trans/static-semantics/ui/actions.stx]

[pdmosses/webdsl-statix/webdslstatix/trans/static-semantics/ui/actions.stx]: https://github.com/pdmosses/webdsl-statix/blob/master/webdslstatix/trans/static-semantics/ui/actions.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <button class="modal-open" id="static-semantics/ui/actions_1_8" title="a definition with multiple references" data-urls="../template-calls.stx/#static-semantics/ui/actions line 10_3; ../../webdsl-ui.stx/#static-semantics/ui/actions line 10_3"><span class="token sort_Id">static-semantics/ui/actions</span></button>

<span class="keyword">imports</span>
  <a href="../../actions/functions.stx/#static-semantics/actions/functions_1_8" id="static-semantics/actions/functions_4_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/actions/functions</span></a>

  <a href="../../entities/annotations.stx/#static-semantics/entities/annotations_1_8" id="static-semantics/entities/annotations_6_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/entities/annotations</span></a>

  <a href="../../types/built-ins.stx/#static-semantics/types/built-ins_1_8" id="static-semantics/types/built-ins_8_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/types/built-ins</span></a>

  <a href="../template-calls.stx/#static-semantics/ui/template-calls_1_8" id="static-semantics/ui/template-calls_10_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/ui/template-calls</span></a>

  <a href="../../webdsl-actions.stx/#static-semantics/webdsl-actions_1_8" id="static-semantics/webdsl-actions_12_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-actions</span></a>
  <a href="../../webdsl-types.stx/#static-semantics/webdsl-types_1_8" id="static-semantics/webdsl-types_13_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-types</span></a>
  <a href="../../webdsl-ui.stx/#static-semantics/webdsl-ui_1_8" id="static-semantics/webdsl-ui_14_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-ui</span></a>
  <a href="../../webdsl.stx/#static-semantics/webdsl_1_8" id="static-semantics/webdsl_15_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl</span></a>

<span class="keyword">rules</span> <span class="layout">// var decls in templates and pages</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_19_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_19_87" id="s_19_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_19_90" id="s_decl_19_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#TEVarDecl_137_5" id="TEVarDecl_19_35" title="a reference to a single-file definition"><span class="token sort_Id">TEVarDecl</span></a><span class="operator">(</span><span class="cons_Var"><a href="#varDecl_19_98" id="varDecl_19_45" title="a definition with a single reference"><span class="token sort_Id">varDecl</span></a></span><span class="operator">)</span></span><span class="operator">)</span>            <span class="operator">:-</span> <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_19_69" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_19_21" id="s_19_87" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_19_24" id="s_decl_19_90" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#varDecl_19_45" id="varDecl_19_98" title="a reference to a single-file definition"><span class="token sort_Id">varDecl</span></a></span><span class="operator">).</span>
  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_20_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_20_87" id="s_20_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_20_90" id="s_decl_20_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#RequestScopeTemplate_138_5" id="RequestScopeTemplate_20_35" title="a reference to a single-file definition"><span class="token sort_Id">RequestScopeTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#varDecl_20_98" id="varDecl_20_56" title="a definition with a single reference"><span class="token sort_Id">varDecl</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_20_69" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_20_21" id="s_20_87" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_20_24" id="s_decl_20_90" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#varDecl_20_56" id="varDecl_20_98" title="a reference to a single-file definition"><span class="token sort_Id">varDecl</span></a></span><span class="operator">).</span>
  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_21_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_21_87" id="s_21_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_21_90" id="s_decl_21_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#LocalScopeTemplate_139_5" id="LocalScopeTemplate_21_35" title="a reference to a single-file definition"><span class="token sort_Id">LocalScopeTemplate</span></a><span class="operator">(</span><span class="cons_Var"><a href="#varDecl_21_98" id="varDecl_21_54" title="a definition with a single reference"><span class="token sort_Id">varDecl</span></a></span><span class="operator">)</span></span><span class="operator">)</span>   <span class="operator">:-</span> <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_21_69" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_21_21" id="s_21_87" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_21_24" id="s_decl_21_90" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#varDecl_21_54" id="varDecl_21_98" title="a reference to a single-file definition"><span class="token sort_Id">varDecl</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="templateVarDeclOk_23_3" title="a definition with multiple references" data-urls="#templateVarDeclOk line 19_69, 20_69, 21_69, 24_3, 30_3, 37_3"><span class="token sort_Id">templateVarDeclOk</span></button><span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#VarDecl_28_5" id="VarDecl_23_38" title="a reference to a single-file definition"><span class="token sort_Id">VarDecl</span></a></span>
  <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_24_3" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_25_21" id="s_24_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_27_16" id="s_decl_24_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#TemplateVarDecl_131_5" id="TemplateVarDecl_24_32" title="a reference to a single-file definition"><span class="token sort_Id">TemplateVarDecl</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_24_48" title="a definition with multiple references" data-urls="#x line 27_24, 28_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="sort_24_51" title="a definition with multiple references" data-urls="#sort line 25_24, 26_55, 26_63"><span class="token sort_Id">sort</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="t_24_63" title="a definition with multiple references" data-urls="#t line 25_5, 26_17, 27_27, 28_16"><span class="token sort_Id">t</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#t_24_63" id="t_25_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl-types.stx/#typeOfSort_160_3" id="typeOfSort_25_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_24_21" id="s_25_21" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#sort_24_51" id="sort_25_24" title="a reference to a single-file definition"><span class="token sort_Id">sort</span></a></span><span class="operator">),</span>
    <a href="../../webdsl-types.stx/#inequalType_286_3" id="inequalType_26_5" title="a reference to a single-file definition"><span class="token sort_Id">inequalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_24_63" id="t_26_17" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_26_20" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Unknown type </span><span class="operator">[</span><span class="cons_Var"><a href="#sort_24_51" id="sort_26_55" title="a reference to a single-file definition"><span class="token sort_Id">sort</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#sort_24_51" id="sort_26_63" title="a reference to a single-file definition"><span class="token sort_Id">sort</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_27_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_24_24" id="s_decl_27_16" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_24_48" id="x_27_24" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_24_63" id="t_27_27" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_24_48" id="x_28_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#t_24_63" id="t_28_16" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

  <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_30_3" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_30_21" title="a definition with multiple references" data-urls="#s line 31_21, 32_26"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_34_16" id="s_decl_30_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#TemplateVarDeclInit_133_5" id="TemplateVarDeclInit_30_32" title="a reference to a single-file definition"><span class="token sort_Id">TemplateVarDeclInit</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_30_52" title="a definition with multiple references" data-urls="#x line 34_24, 35_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="sort_30_55" title="a definition with multiple references" data-urls="#sort line 31_24, 33_75"><span class="token sort_Id">sort</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_30_61" title="a definition with multiple references" data-urls="#exp line 32_29, 33_54, 33_103"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="t_30_72" title="a definition with multiple references" data-urls="#t line 31_5, 33_29, 34_27, 35_16"><span class="token sort_Id">t</span></button></span> <span class="cons_Var"><button class="modal-open" id="expType_30_74" title="a definition with multiple references" data-urls="#expType line 32_5, 33_20, 33_92"><span class="token sort_Id">expType</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#t_30_72" id="t_31_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl-types.stx/#typeOfSort_160_3" id="typeOfSort_31_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_30_21" id="s_31_21" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#sort_30_55" id="sort_31_24" title="a reference to a single-file definition"><span class="token sort_Id">sort</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#expType_30_74" id="expType_32_5" title="a reference to a single-file definition"><span class="token sort_Id">expType</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_32_16" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_30_21" id="s_32_26" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_30_61" id="exp_32_29" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_33_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#expType_30_74" id="expType_33_20" title="a reference to a single-file definition"><span class="token sort_Id">expType</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_30_72" id="t_33_29" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Expression </span><span class="operator">[</span><span class="cons_Var"><a href="#exp_30_61" id="exp_33_54" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">]</span><span class="cons_Text"> is not of type </span><span class="operator">[</span><span class="cons_Var"><a href="#sort_30_55" id="sort_33_75" title="a reference to a single-file definition"><span class="token sort_Id">sort</span></a></span><span class="operator">]</span><span class="cons_Text">, got type </span><span class="operator">[</span><span class="cons_Var"><a href="#expType_30_74" id="expType_33_92" title="a reference to a single-file definition"><span class="token sort_Id">expType</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_30_61" id="exp_33_103" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_34_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_30_24" id="s_decl_34_16" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_30_52" id="x_34_24" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_30_72" id="t_34_27" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_30_52" id="x_35_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#t_30_72" id="t_35_16" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

  <a href="#templateVarDeclOk_23_3" id="templateVarDeclOk_37_3" title="a reference to a single-file definition"><span class="token sort_Id">templateVarDeclOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_38_20" id="s_37_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_decl_40_16" id="s_decl_37_24" title="a definition with a single reference"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#TemplateVarDeclInitInferred_135_5" id="TemplateVarDeclInitInferred_37_32" title="a reference to a single-file definition"><span class="token sort_Id">TemplateVarDeclInitInferred</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_37_60" title="a definition with multiple references" data-urls="#x line 40_24, 41_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_37_63" title="a definition with multiple references" data-urls="#exp line 38_23, 39_66, 39_73"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="t_37_74" title="a definition with multiple references" data-urls="#t line 38_5, 39_17, 40_27, 41_16"><span class="token sort_Id">t</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#t_37_74" id="t_38_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_38_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_37_21" id="s_38_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_37_63" id="exp_38_23" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <a href="../../webdsl-types.stx/#inequalType_286_3" id="inequalType_39_5" title="a reference to a single-file definition"><span class="token sort_Id">inequalType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_37_74" id="t_39_17" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_39_20" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Unable to infer type of </span><span class="operator">[</span><span class="cons_Var"><a href="#exp_37_63" id="exp_39_66" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_37_63" id="exp_39_73" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_40_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_decl_37_24" id="s_decl_40_16" title="a reference to a single-file definition"><span class="token sort_Id">s_decl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_37_60" id="x_40_24" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_37_74" id="t_40_27" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_37_60" id="x_41_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#t_37_74" id="t_41_16" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// action definitions</span>

  <button class="modal-open" id="templateActionOk_45_3" title="a definition with multiple references" data-urls="#templateActionOk line 46_3, 63_5, 78_5"><span class="token sort_Id">templateActionOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#FormalArg_11_5" id="FormalArg_45_52" title="a reference to a single-file definition"><span class="token sort_Id">FormalArg</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#Statement_23_5" id="Statement_45_70" title="a reference to a single-file definition"><span class="token sort_Id">Statement</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#BOOL_30_5" id="BOOL_45_83" title="a reference to a single-file definition"><span class="token sort_Id">BOOL</span></a></span>
  <a href="#templateActionOk_45_3" id="templateActionOk_46_3" title="a reference to a single-file definition"><span class="token sort_Id">templateActionOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_46_20" title="a definition with multiple references" data-urls="#s line 47_27, 48_29"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pha_51_29" id="s_pha_46_23" title="a definition with a single reference"><span class="token sort_Id">s_pha</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_51_36" id="a_46_30" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="args_46_33" title="a definition with multiple references" data-urls="#args line 48_32, 49_42, 51_39"><span class="token sort_Id">args</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_52_25" id="stmts_46_39" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#declare_51_55" id="declare_46_46" title="a definition with a single reference"><span class="token sort_Id">declare</span></a></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><button class="modal-open" id="s_fun_46_59" title="a definition with multiple references" data-urls="#s_fun line 47_9, 47_16, 49_23, 50_37"><span class="token sort_Id">s_fun</span></button></span> <span class="cons_Var"><button class="modal-open" id="s_fun_body_46_65" title="a definition with multiple references" data-urls="#s_fun_body line 50_9, 50_21, 52_13"><span class="token sort_Id">s_fun_body</span></button></span> <span class="cons_Var"><button class="modal-open" id="argTypes_46_76" title="a definition with multiple references" data-urls="#argTypes line 48_5, 49_48, 51_45"><span class="token sort_Id">argTypes</span></button></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_fun_46_59" id="s_fun_47_9" title="a reference to a single-file definition"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_fun_46_59" id="s_fun_47_16" title="a reference to a single-file definition"><span class="token sort_Id">s_fun</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_47_23" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_46_20" id="s_47_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="layout">// TO-DO: possibly create different label for edges out of actions, abusing P label here</span>
    <span class="cons_Var"><a href="#argTypes_46_76" id="argTypes_48_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../../actions/functions.stx/#typesOfArgs_138_3" id="typesOfArgs_48_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_46_20" id="s_48_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_46_33" id="args_48_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#declareParameters_332_3" id="declareParameters_49_5" title="a reference to a single-file definition"><span class="token sort_Id">declareParameters</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_46_59" id="s_fun_49_23" title="a reference to a single-file definition"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <a href="../../actions/functions.stx/#zipArgTypes_145_3" id="zipArgTypes_49_30" title="a reference to a single-file definition"><span class="token sort_Id">zipArgTypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_46_33" id="args_49_42" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_46_76" id="argTypes_49_48" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">)),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_fun_body_46_65" id="s_fun_body_50_9" title="a reference to a single-file definition"><span class="token sort_Id">s_fun_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_fun_body_46_65" id="s_fun_body_50_21" title="a reference to a single-file definition"><span class="token sort_Id">s_fun_body</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_50_33" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_fun_46_59" id="s_fun_50_37" title="a reference to a single-file definition"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span>
    <a href="#optionallyDeclareAction_54_3" id="optionallyDeclareAction_51_5" title="a reference to a single-file definition"><span class="token sort_Id">optionallyDeclareAction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_pha_46_23" id="s_pha_51_29" title="a reference to a single-file definition"><span class="token sort_Id">s_pha</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_46_30" id="a_51_36" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_46_33" id="args_51_39" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#argTypes_46_76" id="argTypes_51_45" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#declare_46_46" id="declare_51_55" title="a reference to a single-file definition"><span class="token sort_Id">declare</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_52_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_body_46_65" id="s_fun_body_52_13" title="a reference to a single-file definition"><span class="token sort_Id">s_fun_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_46_39" id="stmts_52_25" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#PAGE_26_5" id="PAGE_52_32" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span><span class="operator">).</span>

  <button class="modal-open" id="optionallyDeclareAction_54_3" title="a definition with multiple references" data-urls="#optionallyDeclareAction line 51_5, 55_3, 56_3"><span class="token sort_Id">optionallyDeclareAction</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#FormalArg_11_5" id="FormalArg_54_51" title="a reference to a single-file definition"><span class="token sort_Id">FormalArg</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../webdsl.stx/#TYPE_29_5" id="TYPE_54_69" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#BOOL_30_5" id="BOOL_54_77" title="a reference to a single-file definition"><span class="token sort_Id">BOOL</span></a></span>
  <a href="#optionallyDeclareAction_54_3" id="optionallyDeclareAction_55_3" title="a reference to a single-file definition"><span class="token sort_Id">optionallyDeclareAction</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../webdsl.stx/#FALSE_35_5" id="FALSE_55_39" title="a reference to a single-file definition"><span class="token sort_Id">FALSE</span></a><span class="operator">()</span></span><span class="operator">).</span>
  <a href="#optionallyDeclareAction_54_3" id="optionallyDeclareAction_56_3" title="a reference to a single-file definition"><span class="token sort_Id">optionallyDeclareAction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_56_68" id="s_56_27" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_56_71" id="a_56_30" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_56_90" id="args_56_33" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_56_97" id="ts_56_39" title="a definition with a single reference"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl.stx/#TRUE_34_5" id="TRUE_56_43" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="../../webdsl.stx/#declareAction_265_3" id="declareAction_56_54" title="a reference to a single-file definition"><span class="token sort_Id">declareAction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_56_27" id="s_56_68" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_56_30" id="a_56_71" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl.stx/#FUNCTION_ORIGIN_37_5" id="FUNCTION_ORIGIN_56_74" title="a reference to a single-file definition"><span class="token sort_Id">FUNCTION_ORIGIN</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_56_33" id="args_56_90" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_56_39" id="ts_56_97" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">).</span>

  <a href="../../webdsl.stx/#defOk_356_3" id="defOk_58_3" title="a reference to a single-file definition"><span class="token sort_Id">defOk</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#Action2Definition_77_5" id="Action2Definition_58_12" title="a reference to a single-file definition"><span class="token sort_Id">Action2Definition</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#Action_235_5" id="Action_58_30" title="a reference to a single-file definition"><span class="token sort_Id">Action</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#a_58_120" id="a_58_40" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Actions are only allowed in pages and templates</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#a_58_40" id="a_58_120" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// action calls</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_62_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_63_22" id="s_62_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Var"><a href="#s_pha_63_25" id="s_pha_62_27" title="a definition with a single reference"><span class="token sort_Id">s_pha</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#Action2TemplateElement_130_5" id="Action2TemplateElement_62_34" title="a reference to a single-file definition"><span class="token sort_Id">Action2TemplateElement</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#Action_235_5" id="Action_62_57" title="a reference to a single-file definition"><span class="token sort_Id">Action</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#a_63_32" id="a_62_67" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Core-sig.stx/#FormalArgs_57_5" id="FormalArgs_62_70" title="a reference to a single-file definition"><span class="token sort_Id">FormalArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#args_63_35" id="args_62_81" title="a definition with a single reference"><span class="token sort_Id">args</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_62_88" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_63_41" id="stmts_62_94" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#templateActionOk_45_3" id="templateActionOk_63_5" title="a reference to a single-file definition"><span class="token sort_Id">templateActionOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_62_21" id="s_63_22" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_pha_62_27" id="s_pha_63_25" title="a reference to a single-file definition"><span class="token sort_Id">s_pha</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_62_67" id="a_63_32" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_62_81" id="args_63_35" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_62_94" id="stmts_63_41" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl.stx/#TRUE_34_5" id="TRUE_63_48" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <button class="modal-open" id="actionCallOrInlineOrExpOk_65_3" title="a definition with multiple references" data-urls="#actionCallOrInlineOrExpOk line 66_3, 67_3; ../template-calls.stx/#actionCallOrInlineOrExpOk line 112_5"><span class="token sort_Id">actionCallOrInlineOrExpOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ActionCallOrInlineOrExp_41_5" id="ActionCallOrInlineOrExp_65_39" title="a reference to a single-file definition"><span class="token sort_Id">ActionCallOrInlineOrExp</span></a></span>
  <a href="#actionCallOrInlineOrExpOk_65_3" id="actionCallOrInlineOrExpOk_66_3" title="a reference to a single-file definition"><span class="token sort_Id">actionCallOrInlineOrExpOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_66_79" id="s_66_29" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ActionCallOrInline_225_5" id="ActionCallOrInline_66_32" title="a reference to a single-file definition"><span class="token sort_Id">ActionCallOrInline</span></a><span class="operator">(</span><span class="cons_Var"><a href="#a_66_82" id="a_66_51" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#actionCallOrInlineOk_70_3" id="actionCallOrInlineOk_66_58" title="a reference to a single-file definition"><span class="token sort_Id">actionCallOrInlineOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_66_29" id="s_66_79" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_66_51" id="a_66_82" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">).</span>
  <a href="#actionCallOrInlineOrExpOk_65_3" id="actionCallOrInlineOrExpOk_67_3" title="a reference to a single-file definition"><span class="token sort_Id">actionCallOrInlineOrExpOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_67_29" title="a definition with multiple references" data-urls="#s line 68_30, 68_44"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ActionCallOrInlineExp_226_5" id="ActionCallOrInlineExp_67_32" title="a reference to a single-file definition"><span class="token sort_Id">ActionCallOrInlineExp</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#PropertySubmitExp_227_5" id="PropertySubmitExp_67_54" title="a reference to a single-file definition"><span class="token sort_Id">PropertySubmitExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e_68_33" id="e_67_72" title="a definition with a single reference"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_68_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_68_20" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_67_29" id="s_68_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_67_72" id="e_68_33" title="a reference to a single-file definition"><span class="token sort_Id">e</span></a></span><span class="operator">),</span> <a href="../../types/built-ins.stx/#string_48_3" id="string_68_37" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_67_29" id="s_68_44" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Expression must be compatible with type String</span><span class="operator">].</span>

  <button class="modal-open" id="actionCallOrInlineOk_70_3" title="a definition with multiple references" data-urls="#actionCallOrInlineOk line 66_58, 71_3, 77_3; ../../webdsl-ui.stx/#actionCallOrInlineOk line 186_5, 191_5, 196_5, 201_5"><span class="token sort_Id">actionCallOrInlineOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ActionCallOrInline_40_5" id="ActionCallOrInline_70_34" title="a reference to a single-file definition"><span class="token sort_Id">ActionCallOrInline</span></a></span>
  <a href="#actionCallOrInlineOk_70_3" id="actionCallOrInlineOk_71_3" title="a reference to a single-file definition"><span class="token sort_Id">actionCallOrInlineOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_71_24" title="a definition with multiple references" data-urls="#s line 72_29, 73_19"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ActionCall_208_5" id="ActionCall_71_27" title="a reference to a single-file definition"><span class="token sort_Id">ActionCall</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#ThisCall_136_5" id="ThisCall_71_38" title="a reference to a single-file definition"><span class="token sort_Id">ThisCall</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="a_71_47" title="a definition with multiple references" data-urls="#a line 73_22, 73_77, 73_94, 75_6"><span class="token sort_Id">a</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="args_71_50" title="a definition with multiple references" data-urls="#args line 72_32, 74_150"><span class="token sort_Id">args</span></button></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><button class="modal-open" id="argTypes_71_62" title="a definition with multiple references" data-urls="#argTypes line 72_5, 74_21, 74_120"><span class="token sort_Id">argTypes</span></button></span> <span class="cons_Var"><button class="modal-open" id="a'_71_71" title="a definition with multiple references" data-urls="#a' line 73_34, 75_15"><span class="token sort_Id">a'</span></button></span> <span class="cons_Var"><button class="modal-open" id="ts_71_74" title="a definition with multiple references" data-urls="#ts line 73_48, 74_31, 74_144"><span class="token sort_Id">ts</span></button></span><span class="operator">}</span>
    <span class="cons_Var"><a href="#argTypes_71_62" id="argTypes_72_5" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typesOfExps_387_3" id="typesOfExps_72_17" title="a reference to a single-file definition"><span class="token sort_Id">typesOfExps</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_71_24" id="s_72_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_71_50" id="args_72_32" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#resolveAction_270_3" id="resolveAction_73_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveAction</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_71_24" id="s_73_19" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_71_47" id="a_73_22" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_Var"><a href="#a'_71_71" id="a'_73_34" title="a reference to a single-file definition"><span class="token sort_Id">a'</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#ACTION_18_5" id="ACTION_73_38" title="a reference to a single-file definition"><span class="token sort_Id">ACTION</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#ts_71_74" id="ts_73_48" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span></span><span class="operator">))</span> <span class="operator">|</span> <span class="operator">_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Action </span><span class="operator">[</span><span class="cons_Var"><a href="#a_71_47" id="a_73_77" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">]</span><span class="cons_Text"> not defined</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#a_71_47" id="a_73_94" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#typesCompatible_401_3" id="typesCompatible_74_5" title="a reference to a single-file definition"><span class="token sort_Id">typesCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#argTypes_71_62" id="argTypes_74_21" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ts_71_74" id="ts_74_31" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="../../webdsl.stx/#TRUE_34_5" id="TRUE_74_38" title="a reference to a single-file definition"><span class="token sort_Id">TRUE</span></a><span class="operator">()</span></span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Given argument types not compatible with action definition. Got </span><span class="operator">[</span><span class="cons_Var"><a href="#argTypes_71_62" id="argTypes_74_120" title="a reference to a single-file definition"><span class="token sort_Id">argTypes</span></a></span><span class="operator">]</span><span class="cons_Text"> but expected </span><span class="operator">[</span><span class="cons_Var"><a href="#ts_71_74" id="ts_74_144" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#args_71_50" id="args_74_150" title="a reference to a single-file definition"><span class="token sort_Id">args</span></a></span><span class="operator">,</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#a_71_47" id="a_75_6" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#a'_71_71" id="a'_75_15" title="a reference to a single-file definition"><span class="token sort_Id">a'</span></a></span><span class="operator">.</span>

  <a href="#actionCallOrInlineOk_70_3" id="actionCallOrInlineOk_77_3" title="a reference to a single-file definition"><span class="token sort_Id">actionCallOrInlineOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_77_24" title="a definition with multiple references" data-urls="#s line 78_22, 78_25"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#InlineAction_209_5" id="InlineAction_77_27" title="a reference to a single-file definition"><span class="token sort_Id">InlineAction</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_77_40" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_78_36" id="stmts_77_46" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#templateActionOk_45_3" id="templateActionOk_78_5" title="a reference to a single-file definition"><span class="token sort_Id">templateActionOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_77_24" id="s_78_22" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_77_24" id="s_78_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span><span class="operator">"</span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Var"><a href="#stmts_77_46" id="stmts_78_36" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl.stx/#FALSE_35_5" id="FALSE_78_43" title="a reference to a single-file definition"><span class="token sort_Id">FALSE</span></a><span class="operator">()</span></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// action blocks in templates</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_82_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_83_13" id="s_82_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#Init_129_5" id="Init_82_30" title="a reference to a single-file definition"><span class="token sort_Id">Init</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_82_35" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_83_16" id="stmts_82_41" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_83_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_82_21" id="s_83_13" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_82_41" id="stmts_83_16" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#PAGE_26_5" id="PAGE_83_23" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span><span class="operator">).</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_85_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_86_13" id="s_85_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#DataBindAction_231_5" id="DataBindAction_85_30" title="a reference to a single-file definition"><span class="token sort_Id">DataBindAction</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_85_45" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_86_16" id="stmts_85_51" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_86_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_85_21" id="s_86_13" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_85_51" id="stmts_86_16" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_86_23" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_88_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_89_13" id="s_88_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#RenderAction_232_5" id="RenderAction_88_30" title="a reference to a single-file definition"><span class="token sort_Id">RenderAction</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_88_43" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_89_16" id="stmts_88_49" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_89_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_88_21" id="s_89_13" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_88_49" id="stmts_89_16" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_89_23" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_91_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_92_13" id="s_91_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#AllPhasesAction_233_5" id="AllPhasesAction_91_30" title="a reference to a single-file definition"><span class="token sort_Id">AllPhasesAction</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_91_46" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_92_16" id="stmts_91_52" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_92_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_91_21" id="s_92_13" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_91_52" id="stmts_92_16" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_92_23" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="../../webdsl-ui.stx/#templateElementOk_138_3" id="templateElementOk_94_3" title="a reference to a single-file definition"><span class="token sort_Id">templateElementOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_95_13" id="s_94_21" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ValidateAction_234_5" id="ValidateAction_94_30" title="a reference to a single-file definition"><span class="token sort_Id">ValidateAction</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Block_81_5" id="Block_94_45" title="a reference to a single-file definition"><span class="token sort_Id">Block</span></a><span class="operator">(</span><span class="cons_Var"><a href="#stmts_95_16" id="stmts_94_51" title="a definition with a single reference"><span class="token sort_Id">stmts</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl.stx/#stmtsOk_363_3" id="stmtsOk_95_5" title="a reference to a single-file definition"><span class="token sort_Id">stmtsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_94_21" id="s_95_13" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#stmts_94_51" id="stmts_95_16" title="a reference to a single-file definition"><span class="token sort_Id">stmts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_95_23" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// statements</span>

  <a href="../../webdsl.stx/#stmtOk_361_3" id="stmtOk_99_3" title="a reference to a single-file definition"><span class="token sort_Id">stmtOk</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_99_10" title="a definition with no references"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Var"><span id="r_99_16" title="a definition with no references"><span class="token sort_Id">r</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Return_84_5" id="Return_99_18" title="a reference to a single-file definition"><span class="token sort_Id">Return</span></a><span class="operator">(_)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#PAGE_26_5" id="PAGE_99_29" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Expected page call in return statement</span><span class="operator">].</span>
  <a href="../../webdsl.stx/#stmtOk_361_3" id="stmtOk_100_3" title="a reference to a single-file definition"><span class="token sort_Id">stmtOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_101_25" id="s_100_10" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">_,</span> <span class="cons_Var"><span id="r_100_16" title="a definition with no references"><span class="token sort_Id">r</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#Return_84_5" id="Return_100_18" title="a reference to a single-file definition"><span class="token sort_Id">Return</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#ThisCall2Exp_135_5" id="ThisCall2Exp_100_25" title="a reference to a single-file definition"><span class="token sort_Id">ThisCall2Exp</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#ThisCall_136_5" id="ThisCall_100_38" title="a reference to a single-file definition"><span class="token sort_Id">ThisCall</span></a><span class="operator">(</span><span class="cons_Var"><a href="#p_101_28" id="p_100_47" title="a definition with a single reference"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exps_101_31" id="exps_100_50" title="a definition with a single reference"><span class="token sort_Id">exps</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#PAGE_26_5" id="PAGE_100_59" title="a reference to a single-file definition"><span class="token sort_Id">PAGE</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../template-calls.stx/#pageCallOk_internal_84_3" id="pageCallOk_internal_101_5" title="a reference to a single-file definition"><span class="token sort_Id">pageCallOk_internal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_100_10" id="s_101_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#p_100_47" id="p_101_28" title="a reference to a single-file definition"><span class="token sort_Id">p</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exps_100_50" id="exps_101_31" title="a reference to a single-file definition"><span class="token sort_Id">exps</span></a></span><span class="operator">).</span>

  <a href="../../webdsl.stx/#stmtOk_361_3" id="stmtOk_103_3" title="a reference to a single-file definition"><span class="token sort_Id">stmtOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#GoTo_86_5" id="GoTo_103_16" title="a reference to a single-file definition"><span class="token sort_Id">GoTo</span></a><span class="operator">(</span><span class="cons_Var"><span id="pc_103_21" title="a definition with no references"><span class="token sort_Id">pc</span></span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This statement is not yet implemented</span><span class="operator">].</span>

<span class="keyword">rules</span> <span class="layout">// expressions</span>

  <span class="layout">// pass new scope as placeholder and action scope because passing `s`</span>
  <span class="layout">// would introduce a CloseLabel exception in the concurrent solver.</span>
  <span class="layout">// this causes any actions/placeholders references and declarations to fail</span>
  <span class="layout">// but this is not a big deal since there's no use case for working with</span>
  <span class="layout">// actions/placeholders in rendertemplate(...) and validatetemplate(...) calls</span>

  <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_113_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#RenderTemplateFunctionCall_191_5" id="RenderTemplateFunctionCall_113_16" title="a reference to a single-file definition"><span class="token sort_Id">RenderTemplateFunctionCall</span></a><span class="operator">(</span><span class="cons_Var"><a href="#tc_114_28" id="tc_113_43" title="a definition with a single reference"><span class="token sort_Id">tc</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="../../types/built-ins.stx/#string_48_3" id="string_113_50" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_114_20" id="s_113_57" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../template-calls.stx/#templateCallOk_26_3" id="templateCallOk_114_5" title="a reference to a single-file definition"><span class="token sort_Id">templateCallOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_113_57" id="s_114_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="keyword">new</span><span class="operator">,</span> <span class="cons_Var"><a href="#tc_113_43" id="tc_114_28" title="a reference to a single-file definition"><span class="token sort_Id">tc</span></a></span><span class="operator">).</span>

  <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_116_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_117_20" id="s_116_13" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Action-sig.stx/#ValidateTemplateFunctionCall_192_5" id="ValidateTemplateFunctionCall_116_16" title="a reference to a single-file definition"><span class="token sort_Id">ValidateTemplateFunctionCall</span></a><span class="operator">(</span><span class="cons_Var"><a href="#tc_117_28" id="tc_116_45" title="a definition with a single reference"><span class="token sort_Id">tc</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="../../types/built-ins.stx/#string_48_3" id="string_116_52" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../template-calls.stx/#templateCallOk_26_3" id="templateCallOk_117_5" title="a reference to a single-file definition"><span class="token sort_Id">templateCallOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_116_13" id="s_117_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="keyword">new</span><span class="operator">,</span> <span class="cons_Var"><a href="#tc_116_45" id="tc_117_28" title="a reference to a single-file definition"><span class="token sort_Id">tc</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// template var arg exp</span>

  <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_121_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_122_30" id="s_121_13" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_123_6" id="e_121_16" title="a definition with a single reference"><span class="token sort_Id">e</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#TemplateVarArgExp_242_5" id="TemplateVarArgExp_121_18" title="a reference to a single-file definition"><span class="token sort_Id">TemplateVarArgExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#expVarArgs_122_33" id="expVarArgs_121_36" title="a definition with a single reference"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#LIST_35_5" id="LIST_121_51" title="a reference to a single-file definition"><span class="token sort_Id">LIST</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="t_121_56" title="a definition with multiple references" data-urls="#t line 122_5, 123_16"><span class="token sort_Id">t</span></button></span><span class="operator">)</span></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#t_121_56" id="t_122_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_122_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_121_13" id="s_122_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_121_36" id="expVarArgs_122_33" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#e_121_16" id="e_123_6" title="a reference to a single-file definition"><span class="token sort_Id">e</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#t_121_56" id="t_123_16" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

  <button class="modal-open" id="typeOfExpVarArgList_125_3" title="a definition with multiple references" data-urls="#typeOfExpVarArgList line 122_10, 126_3, 127_3, 153_10, 163_10, 172_10, 182_10"><span class="token sort_Id">typeOfExpVarArgList</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArg_48_5" id="ExpVarArg_125_38" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArg</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#TYPE_29_5" id="TYPE_125_52" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_126_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_126_23" title="a definition with no references"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">=</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#UNTYPED_49_5" id="UNTYPED_126_32" title="a reference to a single-file definition"><span class="token sort_Id">UNTYPED</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Cannot infer the type of an empty list of ExpVarArgs</span><span class="operator">].</span>
  <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_127_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_127_23" title="a definition with multiple references" data-urls="#s line 128_26, 129_26"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#hd_128_29" id="hd_127_27" title="a definition with a single reference"><span class="token sort_Id">hd</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#tl_129_29" id="tl_127_32" title="a definition with a single reference"><span class="token sort_Id">tl</span></a></span><span class="operator">])</span> <span class="operator">=</span> <span class="cons_Var"><button class="modal-open" id="t_127_39" title="a definition with multiple references" data-urls="#t line 128_5, 129_33"><span class="token sort_Id">t</span></button></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#t_127_39" id="t_128_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_128_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_127_23" id="s_128_26" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#hd_127_27" id="hd_128_29" title="a reference to a single-file definition"><span class="token sort_Id">hd</span></a></span><span class="operator">),</span>
    <a href="#expVarArgsCompatible_131_3" id="expVarArgsCompatible_129_5" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_127_23" id="s_129_26" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#tl_127_32" id="tl_129_29" title="a reference to a single-file definition"><span class="token sort_Id">tl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_127_39" id="t_129_33" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="expVarArgsCompatible_131_3" title="a definition with multiple references" data-urls="#expVarArgsCompatible line 129_5, 132_3, 133_3, 136_5"><span class="token sort_Id">expVarArgsCompatible</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArg_48_5" id="ExpVarArg_131_39" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArg</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#TYPE_29_5" id="TYPE_131_52" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#expVarArgsCompatible_131_3" id="expVarArgsCompatible_132_3" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgsCompatible</span></a><span class="operator">(_,</span> <span class="operator">[],</span> <span class="operator">_).</span>
  <a href="#expVarArgsCompatible_131_3" id="expVarArgsCompatible_133_3" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_133_24" title="a definition with multiple references" data-urls="#s line 134_27, 136_26"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><button class="modal-open" id="hd_133_28" title="a definition with multiple references" data-urls="#hd line 134_30, 135_47, 135_88"><span class="token sort_Id">hd</span></button></span> <span class="operator">|</span> <span class="cons_Var"><a href="#tl_136_29" id="tl_133_33" title="a definition with a single reference"><span class="token sort_Id">tl</span></a></span><span class="operator">],</span> <span class="cons_Var"><button class="modal-open" id="T1_133_38" title="a definition with multiple references" data-urls="#T1 line 135_24, 135_71, 136_33"><span class="token sort_Id">T1</span></button></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="T2_133_47" title="a definition with multiple references" data-urls="#T2 line 134_5, 135_20, 135_77"><span class="token sort_Id">T2</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#T2_133_47" id="T2_134_5" title="a reference to a single-file definition"><span class="token sort_Id">T2</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_134_11" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_133_24" id="s_134_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#hd_133_28" id="hd_134_30" title="a reference to a single-file definition"><span class="token sort_Id">hd</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_135_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T2_133_47" id="T2_135_20" title="a reference to a single-file definition"><span class="token sort_Id">T2</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T1_133_38" id="T1_135_24" title="a reference to a single-file definition"><span class="token sort_Id">T1</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Type of </span><span class="operator">[</span><span class="cons_Var"><a href="#hd_133_28" id="hd_135_47" title="a reference to a single-file definition"><span class="token sort_Id">hd</span></a></span><span class="operator">]</span><span class="cons_Text"> must be compatible </span><span class="operator">[</span><span class="cons_Var"><a href="#T1_133_38" id="T1_135_71" title="a reference to a single-file definition"><span class="token sort_Id">T1</span></a></span><span class="operator">]</span><span class="cons_Text">, </span><span class="operator">[</span><span class="cons_Var"><a href="#T2_133_47" id="T2_135_77" title="a reference to a single-file definition"><span class="token sort_Id">T2</span></a></span><span class="operator">]</span><span class="cons_Text"> given</span><span class="operator">]@</span><span class="cons_Var"><a href="#hd_133_28" id="hd_135_88" title="a reference to a single-file definition"><span class="token sort_Id">hd</span></a></span><span class="operator">,</span>
    <a href="#expVarArgsCompatible_131_3" id="expVarArgsCompatible_136_5" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgsCompatible</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_133_24" id="s_136_26" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#tl_133_33" id="tl_136_29" title="a reference to a single-file definition"><span class="token sort_Id">tl</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T1_133_38" id="T1_136_33" title="a reference to a single-file definition"><span class="token sort_Id">T1</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="typeOfExpVarArg_138_3" title="a definition with multiple references" data-urls="#typeOfExpVarArg line 128_10, 134_11, 139_3, 142_3, 156_3, 166_3, 175_3"><span class="token sort_Id">typeOfExpVarArg</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArg_48_5" id="ExpVarArg_138_29" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArg</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#TYPE_29_5" id="TYPE_138_42" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_139_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_140_36" id="s_139_19" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArg_247_5" id="ExpVarArg_139_22" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#expsOrTemplateArgs_140_39" id="expsOrTemplateArgs_139_32" title="a definition with a single reference"><span class="token sort_Id">expsOrTemplateArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#TEMPLATEVARARG_43_5" id="TEMPLATEVARARG_139_55" title="a reference to a single-file definition"><span class="token sort_Id">TEMPLATEVARARG</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ts_140_5" id="ts_139_70" title="a definition with a single reference"><span class="token sort_Id">ts</span></a></span><span class="operator">,</span> <span class="keyword">new</span><span class="operator">)</span></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#ts_139_70" id="ts_140_5" title="a reference to a single-file definition"><span class="token sort_Id">ts</span></a></span> <span class="operator">==</span> <a href="#typesOfExpOrTemplateArgs_187_3" id="typesOfExpOrTemplateArgs_140_11" title="a reference to a single-file definition"><span class="token sort_Id">typesOfExpOrTemplateArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_139_19" id="s_140_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expsOrTemplateArgs_139_32" id="expsOrTemplateArgs_140_39" title="a reference to a single-file definition"><span class="token sort_Id">expsOrTemplateArgs</span></a></span><span class="operator">).</span>

  <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_142_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_142_19" title="a definition with multiple references" data-urls="#s line 143_30, 144_28, 149_27"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgFor_243_5" id="ExpVarArgFor_142_22" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgFor</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_142_35" title="a definition with multiple references" data-urls="#x line 151_23, 152_30, 154_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#srt_143_33" id="srt_142_38" title="a definition with a single reference"><span class="token sort_Id">srt</span></a></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="exp_142_43" title="a definition with multiple references" data-urls="#exp line 144_31, 148_81"><span class="token sort_Id">exp</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#OptFilterSome_155_5" id="OptFilterSome_142_48" title="a reference to a single-file definition"><span class="token sort_Id">OptFilterSome</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_150_28" id="f_142_62" title="a definition with a single reference"><span class="token sort_Id">f</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_153_37" id="expVarArgs_142_66" title="a definition with a single reference"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_153_5" id="t_142_81" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_for_142_88" title="a definition with multiple references" data-urls="#s_for line 149_9, 149_16, 150_21, 151_16, 152_23, 153_30"><span class="token sort_Id">s_for</span></button></span> <span class="cons_Var"><button class="modal-open" id="typeOfSort_142_94" title="a definition with multiple references" data-urls="#typeOfSort line 143_5, 146_23, 147_22, 148_48, 151_26, 154_16"><span class="token sort_Id">typeOfSort</span></button></span> <span class="cons_Var"><button class="modal-open" id="typeOfExp_142_105" title="a definition with multiple references" data-urls="#typeOfExp line 144_5, 146_36, 147_35, 148_62"><span class="token sort_Id">typeOfExp</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_143_5" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span> <span class="operator">==</span> <a href="../../webdsl-types.stx/#typeOfSort_160_3" id="typeOfSort_143_19" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_142_19" id="s_143_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#srt_142_38" id="srt_143_33" title="a reference to a single-file definition"><span class="token sort_Id">srt</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#typeOfExp_142_105" id="typeOfExp_144_5" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_144_18" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_142_19" id="s_144_28" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_142_43" id="exp_144_31" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#or_417_3" id="or_145_5" title="a reference to a single-file definition"><span class="token sort_Id">or</span></a><span class="operator">(</span>
      <a href="../../webdsl-types.stx/#equalTypeB_292_3" id="equalTypeB_146_7" title="a reference to a single-file definition"><span class="token sort_Id">equalTypeB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#LIST_35_5" id="LIST_146_18" title="a reference to a single-file definition"><span class="token sort_Id">LIST</span></a><span class="operator">(</span><span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_146_23" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#typeOfExp_142_105" id="typeOfExp_146_36" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span><span class="operator">),</span>
      <a href="../../webdsl-types.stx/#equalTypeB_292_3" id="equalTypeB_147_7" title="a reference to a single-file definition"><span class="token sort_Id">equalTypeB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#SET_36_5" id="SET_147_18" title="a reference to a single-file definition"><span class="token sort_Id">SET</span></a><span class="operator">(</span><span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_147_22" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#typeOfExp_142_105" id="typeOfExp_147_35" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span><span class="operator">)</span>
    <span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Must be a list or set of type </span><span class="operator">[</span><span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_148_48" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">]</span><span class="cons_Text">, </span><span class="operator">[</span><span class="cons_Var"><a href="#typeOfExp_142_105" id="typeOfExp_148_62" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span><span class="operator">]</span><span class="cons_Text"> given</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_142_43" id="exp_148_81" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_for_142_88" id="s_for_149_9" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_for_142_88" id="s_for_149_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_149_23" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_142_19" id="s_149_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../../webdsl-actions.stx/#forLoopFilterOk_206_3" id="forLoopFilterOk_150_5" title="a reference to a single-file definition"><span class="token sort_Id">forLoopFilterOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_142_88" id="s_for_150_21" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_142_62" id="f_150_28" title="a reference to a single-file definition"><span class="token sort_Id">f</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_151_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_142_88" id="s_for_151_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_142_35" id="x_151_23" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_151_26" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">),</span>
    <a href="../../entities/annotations.stx/#declareAnnotation_36_3" id="declareAnnotation_152_5" title="a reference to a single-file definition"><span class="token sort_Id">declareAnnotation</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_142_88" id="s_for_152_23" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_142_35" id="x_152_30" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../entities/annotations.stx/#DERIVED_22_5" id="DERIVED_152_33" title="a reference to a single-file definition"><span class="token sort_Id">DERIVED</span></a><span class="operator">()</span></span><span class="operator">),</span> <span class="layout">// abuse derived annotation to declare immutability of x</span>
    <span class="cons_Var"><a href="#t_142_81" id="t_153_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_153_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_142_88" id="s_for_153_30" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_142_66" id="expVarArgs_153_37" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_142_35" id="x_154_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#typeOfSort_142_94" id="typeOfSort_154_16" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">.</span>

  <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_156_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_156_19" title="a definition with multiple references" data-urls="#s line 157_28, 159_27"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgForInferred_244_5" id="ExpVarArgForInferred_156_22" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgForInferred</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_156_43" title="a definition with multiple references" data-urls="#x line 161_23, 162_30, 164_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_157_31" id="exp_156_46" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#OptFilterSome_155_5" id="OptFilterSome_156_51" title="a reference to a single-file definition"><span class="token sort_Id">OptFilterSome</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_160_28" id="f_156_65" title="a definition with a single reference"><span class="token sort_Id">f</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_163_37" id="expVarArgs_156_69" title="a definition with a single reference"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_163_5" id="t_156_84" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_for_156_91" title="a definition with multiple references" data-urls="#s_for line 159_9, 159_16, 160_21, 161_16, 162_23, 163_30"><span class="token sort_Id">s_for</span></button></span> <span class="cons_Var"><button class="modal-open" id="typeOfExp_156_97" title="a definition with multiple references" data-urls="#typeOfExp line 157_5, 158_36"><span class="token sort_Id">typeOfExp</span></button></span> <span class="cons_Var"><button class="modal-open" id="typeOfSort_156_107" title="a definition with multiple references" data-urls="#typeOfSort line 158_5, 161_26, 164_16"><span class="token sort_Id">typeOfSort</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#typeOfExp_156_97" id="typeOfExp_157_5" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_157_18" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_156_19" id="s_157_28" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_156_46" id="exp_157_31" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <span class="cons_Var"><a href="#typeOfSort_156_107" id="typeOfSort_158_5" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span> <span class="operator">==</span> <a href="../../webdsl-types.stx/#stripGenericType_267_3" id="stripGenericType_158_19" title="a reference to a single-file definition"><span class="token sort_Id">stripGenericType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#typeOfExp_156_97" id="typeOfExp_158_36" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_for_156_91" id="s_for_159_9" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_for_156_91" id="s_for_159_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_159_23" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_156_19" id="s_159_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../../webdsl-actions.stx/#forLoopFilterOk_206_3" id="forLoopFilterOk_160_5" title="a reference to a single-file definition"><span class="token sort_Id">forLoopFilterOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_156_91" id="s_for_160_21" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_156_65" id="f_160_28" title="a reference to a single-file definition"><span class="token sort_Id">f</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_161_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_156_91" id="s_for_161_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_156_43" id="x_161_23" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#typeOfSort_156_107" id="typeOfSort_161_26" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">),</span>
    <a href="../../entities/annotations.stx/#declareAnnotation_36_3" id="declareAnnotation_162_5" title="a reference to a single-file definition"><span class="token sort_Id">declareAnnotation</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_156_91" id="s_for_162_23" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_156_43" id="x_162_30" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../entities/annotations.stx/#DERIVED_22_5" id="DERIVED_162_33" title="a reference to a single-file definition"><span class="token sort_Id">DERIVED</span></a><span class="operator">()</span></span><span class="operator">),</span> <span class="layout">// abuse derived annotation to declare immutability of x</span>
    <span class="cons_Var"><a href="#t_156_84" id="t_163_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_163_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_156_91" id="s_for_163_30" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_156_69" id="expVarArgs_163_37" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_156_43" id="x_164_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#typeOfSort_156_107" id="typeOfSort_164_16" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">.</span>

  <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_166_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_166_19" title="a definition with multiple references" data-urls="#s line 167_30, 168_27"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgForAll_245_5" id="ExpVarArgForAll_166_22" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgForAll</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_166_38" title="a definition with multiple references" data-urls="#x line 170_23, 171_30, 173_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#srt_167_33" id="srt_166_41" title="a definition with a single reference"><span class="token sort_Id">srt</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#OptFilterSome_155_5" id="OptFilterSome_166_46" title="a reference to a single-file definition"><span class="token sort_Id">OptFilterSome</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_169_28" id="f_166_60" title="a definition with a single reference"><span class="token sort_Id">f</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_172_37" id="expVarArgs_166_64" title="a definition with a single reference"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_172_5" id="t_166_79" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_for_166_86" title="a definition with multiple references" data-urls="#s_for line 168_9, 168_16, 169_21, 170_16, 171_23, 172_30"><span class="token sort_Id">s_for</span></button></span> <span class="cons_Var"><button class="modal-open" id="typeOfSort_166_92" title="a definition with multiple references" data-urls="#typeOfSort line 167_5, 170_26, 173_16"><span class="token sort_Id">typeOfSort</span></button></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#typeOfSort_166_92" id="typeOfSort_167_5" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span> <span class="operator">==</span> <a href="../../webdsl-types.stx/#typeOfSort_160_3" id="typeOfSort_167_19" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_166_19" id="s_167_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#srt_166_41" id="srt_167_33" title="a reference to a single-file definition"><span class="token sort_Id">srt</span></a></span><span class="operator">),</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_for_166_86" id="s_for_168_9" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_for_166_86" id="s_for_168_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_168_23" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_166_19" id="s_168_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../../webdsl-actions.stx/#forLoopFilterOk_206_3" id="forLoopFilterOk_169_5" title="a reference to a single-file definition"><span class="token sort_Id">forLoopFilterOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_166_86" id="s_for_169_21" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_166_60" id="f_169_28" title="a reference to a single-file definition"><span class="token sort_Id">f</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_170_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_166_86" id="s_for_170_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_166_38" id="x_170_23" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#typeOfSort_166_92" id="typeOfSort_170_26" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">),</span>
    <a href="../../entities/annotations.stx/#declareAnnotation_36_3" id="declareAnnotation_171_5" title="a reference to a single-file definition"><span class="token sort_Id">declareAnnotation</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_166_86" id="s_for_171_23" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_166_38" id="x_171_30" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../entities/annotations.stx/#DERIVED_22_5" id="DERIVED_171_33" title="a reference to a single-file definition"><span class="token sort_Id">DERIVED</span></a><span class="operator">()</span></span><span class="operator">),</span> <span class="layout">// abuse derived annotation to declare immutability of x</span>
    <span class="cons_Var"><a href="#t_166_79" id="t_172_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_172_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_166_86" id="s_for_172_30" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_166_64" id="expVarArgs_172_37" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_166_38" id="x_173_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#typeOfSort_166_92" id="typeOfSort_173_16" title="a reference to a single-file definition"><span class="token sort_Id">typeOfSort</span></a></span><span class="operator">.</span>

  <a href="#typeOfExpVarArg_138_3" id="typeOfExpVarArg_175_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArg</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_175_19" title="a definition with multiple references" data-urls="#s line 176_16, 177_30, 178_30, 179_27"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgForCount_246_5" id="ExpVarArgForCount_175_22" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgForCount</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="x_175_40" title="a definition with multiple references" data-urls="#x line 180_23, 181_30, 183_6"><span class="token sort_Id">x</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="e1_175_43" title="a definition with multiple references" data-urls="#e1 line 177_33, 177_99"><span class="token sort_Id">e1</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="e2_175_47" title="a definition with multiple references" data-urls="#e2 line 178_33, 178_99"><span class="token sort_Id">e2</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_182_37" id="expVarArgs_175_51" title="a definition with a single reference"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_182_5" id="t_175_66" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_for_175_73" title="a definition with multiple references" data-urls="#s_for line 179_9, 179_16, 180_16, 181_23, 182_30"><span class="token sort_Id">s_for</span></button></span> <span class="cons_Var"><button class="modal-open" id="int_175_79" title="a definition with multiple references" data-urls="#int line 176_5, 177_38, 178_38, 180_26, 183_16"><span class="token sort_Id">int</span></button></span> <span class="cons_Var"><span id="t1_175_83" title="a definition with no references"><span class="token sort_Id">t1</span></span></span> <span class="cons_Var"><span id="t2_175_86" title="a definition with no references"><span class="token sort_Id">t2</span></span></span> <span class="operator">}</span>
    <span class="cons_Var"><a href="#int_175_79" id="int_176_5" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a></span> <span class="operator">==</span> <a href="../../types/built-ins.stx/#int_41_3" id="int_176_12" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_175_19" id="s_176_16" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_177_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_177_20" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_175_19" id="s_177_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_175_43" id="e1_177_33" title="a reference to a single-file definition"><span class="token sort_Id">e1</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#int_175_79" id="int_177_38" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Expression must be compatible with type Int</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#e1_175_43" id="e1_177_99" title="a reference to a single-file definition"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#typeCompatible_408_3" id="typeCompatible_178_5" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatible</span></a><span class="operator">(</span><a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_178_20" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_175_19" id="s_178_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_175_47" id="e2_178_33" title="a reference to a single-file definition"><span class="token sort_Id">e2</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#int_175_79" id="int_178_38" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Expression must be compatible with type Int</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#e2_175_47" id="e2_178_99" title="a reference to a single-file definition"><span class="token sort_Id">e2</span></a></span><span class="operator">,</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_for_175_73" id="s_for_179_9" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_for_175_73" id="s_for_179_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_179_23" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_175_19" id="s_179_27" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../../webdsl.stx/#declareVar_301_3" id="declareVar_180_5" title="a reference to a single-file definition"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_175_73" id="s_for_180_16" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_175_40" id="x_180_23" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#int_175_79" id="int_180_26" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a></span><span class="operator">),</span>
    <a href="../../entities/annotations.stx/#declareAnnotation_36_3" id="declareAnnotation_181_5" title="a reference to a single-file definition"><span class="token sort_Id">declareAnnotation</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_175_73" id="s_for_181_23" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_175_40" id="x_181_30" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../entities/annotations.stx/#DERIVED_22_5" id="DERIVED_181_33" title="a reference to a single-file definition"><span class="token sort_Id">DERIVED</span></a><span class="operator">()</span></span><span class="operator">),</span> <span class="layout">// abuse derived annotation to declare immutability of x</span>
    <span class="cons_Var"><a href="#t_175_66" id="t_182_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="#typeOfExpVarArgList_125_3" id="typeOfExpVarArgList_182_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpVarArgList</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_175_73" id="s_for_182_30" title="a reference to a single-file definition"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#expVarArgs_175_51" id="expVarArgs_182_37" title="a reference to a single-file definition"><span class="token sort_Id">expVarArgs</span></a></span><span class="operator">),</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_175_40" id="x_183_6" title="a reference to a single-file definition"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#int_175_79" id="int_183_16" title="a reference to a single-file definition"><span class="token sort_Id">int</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// exp or template arg</span>

  <a href="#typesOfExpOrTemplateArgs_140_11" id="typesOfExpOrTemplateArgs_187_3" title="a definition with a single reference"><span class="token sort_Id">typesOfExpOrTemplateArgs</span></a> <span class="keyword">maps</span> <a href="#typeOfExpOrTemplateArg_188_3" id="typeOfExpOrTemplateArg_187_33" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpOrTemplateArg</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">(*)</span>
  <button class="modal-open" id="typeOfExpOrTemplateArg_188_3" title="a definition with multiple references" data-urls="#typeOfExpOrTemplateArg line 187_33, 189_3, 192_3"><span class="token sort_Id">typeOfExpOrTemplateArg</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpOrTemplateArg_49_5" id="ExpOrTemplateArg_188_36" title="a reference to a single-file definition"><span class="token sort_Id">ExpOrTemplateArg</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../../webdsl.stx/#TYPE_29_5" id="TYPE_188_56" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfExpOrTemplateArg_188_3" id="typeOfExpOrTemplateArg_189_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpOrTemplateArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_190_20" id="s_189_26" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgExp_248_5" id="ExpVarArgExp_189_29" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#exp_190_23" id="exp_189_42" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#t_190_5" id="t_189_50" title="a definition with a single reference"><span class="token sort_Id">t</span></a></span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#t_189_50" id="t_190_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_190_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_189_26" id="s_190_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_189_42" id="exp_190_23" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">).</span>

  <a href="#typeOfExpOrTemplateArg_188_3" id="typeOfExpOrTemplateArg_192_3" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExpOrTemplateArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_193_29" id="s_192_26" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-UI-sig.stx/#ExpVarArgElements_249_5" id="ExpVarArgElements_192_29" title="a reference to a single-file definition"><span class="token sort_Id">ExpVarArgElements</span></a><span class="operator">(</span><span class="cons_Var"><a href="#elems_194_37" id="elems_192_47" title="a definition with a single reference"><span class="token sort_Id">elems</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="../../webdsl-types.stx/#TEMPLATEELEMENTS_47_5" id="TEMPLATEELEMENTS_192_57" title="a reference to a single-file definition"><span class="token sort_Id">TEMPLATEELEMENTS</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span> <span class="cons_Var"><button class="modal-open" id="s_eval_192_81" title="a definition with multiple references" data-urls="#s_eval line 193_9, 193_17, 194_24"><span class="token sort_Id">s_eval</span></button></span> <span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_eval_192_81" id="s_eval_193_9" title="a reference to a single-file definition"><span class="token sort_Id">s_eval</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_eval_192_81" id="s_eval_193_17" title="a reference to a single-file definition"><span class="token sort_Id">s_eval</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_193_25" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_192_26" id="s_193_29" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="../../webdsl-ui.stx/#templateElementsOk_142_3" id="templateElementsOk_194_5" title="a reference to a single-file definition"><span class="token sort_Id">templateElementsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_eval_192_81" id="s_eval_194_24" title="a reference to a single-file definition"><span class="token sort_Id">s_eval</span></a></span><span class="operator">,</span> <span class="keyword">new</span><span class="operator">,</span> <span class="cons_Var"><a href="#elems_192_47" id="elems_194_37" title="a reference to a single-file definition"><span class="token sort_Id">elems</span></a></span><span class="operator">).</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>
