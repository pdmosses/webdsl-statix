---
title: attributes.stx
hide:
  - toc
---

# `attributes.stx`

:simple-github: [pdmosses/webdsl-statix/webdslstatix/trans/static-semantics/ui/attributes.stx]

[pdmosses/webdsl-statix/webdslstatix/trans/static-semantics/ui/attributes.stx]: https://github.com/pdmosses/webdsl-statix/blob/master/webdslstatix/trans/static-semantics/ui/attributes.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <button class="modal-open" id="static-semantics/ui/attributes_1_8" title="a definition with multiple references" data-urls="../template-calls.stx/#static-semantics/ui/attributes line 11_3; ../../webdsl-ui.stx/#static-semantics/ui/attributes line 12_3"><span class="token sort_Id">static-semantics/ui/attributes</span></button>

<span class="keyword">imports</span>
  <a href="../../types/built-ins.stx/#static-semantics/types/built-ins_1_8" id="static-semantics/types/built-ins_4_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/types/built-ins</span></a>

  <a href="../../webdsl-types.stx/#static-semantics/webdsl-types_1_8" id="static-semantics/webdsl-types_6_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl-types</span></a>
  <a href="../../webdsl.stx/#static-semantics/webdsl_1_8" id="static-semantics/webdsl_7_3" title="a reference to a single-file definition"><span class="token sort_Id">static-semantics/webdsl</span></a>

<span class="keyword">signature</span>
  <span class="keyword">relations</span>
    <span class="cons_Label"><button class="modal-open" id="attributeCollection_11_5" title="a definition with multiple references" data-urls="#attributeCollection line 17_6, 22_11"><span class="token sort_Id">attributeCollection</span></button></span> <span class="operator">:</span> <span class="cons_StringSort"><span class="keyword">string</span></span>

<span class="keyword">rules</span> <span class="layout">// attribute collection declaration and resolving</span>

  <button class="modal-open" id="declareAttributeCollection_15_3" title="a definition with multiple references" data-urls="#declareAttributeCollection line 16_3, 72_5"><span class="token sort_Id">declareAttributeCollection</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span>
  <a href="#declareAttributeCollection_15_3" id="declareAttributeCollection_16_3" title="a reference to a single-file definition"><span class="token sort_Id">declareAttributeCollection</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_16_30" title="a definition with multiple references" data-urls="#s line 17_32, 18_32"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="c_16_33" title="a definition with multiple references" data-urls="#c line 17_26, 18_35, 18_87"><span class="token sort_Id">c</span></button></span><span class="operator">)</span> <span class="operator">:-</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#attributeCollection_11_5" id="attributeCollection_17_6" title="a reference to a single-file definition"><span class="token sort_Id">attributeCollection</span></a></span><span class="operator">[</span><span class="cons_Var"><a href="#c_16_33" id="c_17_26" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_16_30" id="s_17_32" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="#resolveAttributeCollection_20_3" id="resolveAttributeCollection_18_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveAttributeCollection</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_16_30" id="s_18_32" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_16_33" id="c_18_35" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Attribute collection with name </span><span class="operator">[</span><span class="cons_Var"><a href="#c_16_33" id="c_18_87" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">]</span><span class="cons_Text"> is defined multiple times. Use "override" modifier to replace existing attribute collections</span><span class="operator">].</span> <span class="layout">// correct error message for tests</span>

  <button class="modal-open" id="resolveAttributeCollection_20_3" title="a definition with multiple references" data-urls="#resolveAttributeCollection line 18_5, 21_3, 75_5; ../template-calls.stx/#resolveAttributeCollection line 123_5"><span class="token sort_Id">resolveAttributeCollection</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="cons_StringSort"><span class="keyword">string</span></span><span class="operator">))</span>
  <a href="#resolveAttributeCollection_20_3" id="resolveAttributeCollection_21_3" title="a reference to a single-file definition"><span class="token sort_Id">resolveAttributeCollection</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_25_10" id="s_21_30" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_24_25" id="c_21_33" title="a definition with a single reference"><span class="token sort_Id">c</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#ps_25_16" id="ps_21_38" title="a definition with a single reference"><span class="token sort_Id">ps</span></a></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#attributeCollection_11_5" id="attributeCollection_22_11" title="a reference to a single-file definition"><span class="token sort_Id">attributeCollection</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="../../webdsl.stx/#P_45_7" id="P_23_14" title="a reference to a single-file definition"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span> <span class="cons_Closure"><span class="cons_Label"><a href="../../webdsl.stx/#F_46_7" id="F_23_17" title="a reference to a single-file definition"><span class="token sort_Id">F</span></a></span><span class="operator">*</span></span> <span class="operator">((</span><span class="cons_Label"><a href="../../webdsl.stx/#EXTEND_47_7" id="EXTEND_23_22" title="a reference to a single-file definition"><span class="token sort_Id">EXTEND</span></a></span><span class="operator">?</span> <span class="cons_Closure"><span class="cons_Label"><a href="../../webdsl.stx/#INHERIT_48_7" id="INHERIT_23_30" title="a reference to a single-file definition"><span class="token sort_Id">INHERIT</span></a></span><span class="operator">*</span></span><span class="operator">)</span> <span class="operator">|</span> <span class="operator">(</span><span class="cons_Label"><a href="../../webdsl.stx/#DEF_49_7" id="DEF_23_43" title="a reference to a single-file definition"><span class="token sort_Id">DEF</span></a></span><span class="operator">?</span> <span class="operator">(</span><span class="cons_Label"><a href="../../webdsl.stx/#IMPORT_50_7" id="IMPORT_23_49" title="a reference to a single-file definition"><span class="token sort_Id">IMPORT</span></a></span> <span class="operator">|</span> <span class="cons_Label"><a href="../../webdsl.stx/#IMPORTLIB_51_7" id="IMPORTLIB_23_58" title="a reference to a single-file definition"><span class="token sort_Id">IMPORTLIB</span></a></span><span class="operator">)?))</span>
      <span class="keyword">and</span> <span class="operator">{</span> <span class="cons_Var"><a href="#c'_24_19" id="c'_24_13" title="a definition with a single reference"><span class="token sort_Id">c'</span></a></span> <span class="operator">:-</span> <span class="cons_Var"><a href="#c'_24_13" id="c'_24_19" title="a reference to a single-file definition"><span class="token sort_Id">c'</span></a></span> <span class="operator">==</span> <span class="cons_Var"><a href="#c_21_33" id="c_24_25" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span> <span class="operator">}</span>
      <span class="keyword">in</span> <span class="cons_Var"><a href="#s_21_30" id="s_25_10" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#ps_21_38" id="ps_25_16" title="a reference to a single-file definition"><span class="token sort_Id">ps</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// attributes</span>

  <button class="modal-open" id="attributesOk_29_3" title="a definition with multiple references" data-urls="#attributesOk line 37_5, 41_5, 42_5; ../../webdsl-ui.stx/#attributesOk line 155_5, 158_5, 162_5, 166_5, 170_5"><span class="token sort_Id">attributesOk</span></button> <span class="keyword">maps</span> <a href="#attributeOk_30_3" id="attributeOk_29_21" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span>
  <button class="modal-open" id="attributeOk_30_3" title="a definition with multiple references" data-urls="#attributeOk line 29_21, 31_3, 32_3, 34_3, 35_3, 39_3, 44_3"><span class="token sort_Id">attributeOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#Attribute_16_5" id="Attribute_30_25" title="a reference to a single-file definition"><span class="token sort_Id">Attribute</span></a></span>
  <a href="#attributeOk_30_3" id="attributeOk_31_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_31_15" title="a definition with no references"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Var"><a href="#a_31_125" id="a_31_18" title="a definition with a single reference"><span class="token sort_Id">a</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#AttributeSelection2Attribute_40_5" id="AttributeSelection2Attribute_31_20" title="a reference to a single-file definition"><span class="token sort_Id">AttributeSelection2Attribute</span></a><span class="operator">(_)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This UI attribute is not implemented yet</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#a_31_18" id="a_31_125" title="a reference to a single-file definition"><span class="token sort_Id">a</span></a></span><span class="operator">.</span>
  <a href="#attributeOk_30_3" id="attributeOk_32_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_32_15" title="a definition with no references"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Expand-sig.stx/#AttributeExpandLocal_46_5" id="AttributeExpandLocal_32_18" title="a reference to a single-file definition"><span class="token sort_Id">AttributeExpandLocal</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="operator">_)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This UI attribute is not implemented yet</span><span class="operator">].</span>

  <a href="#attributeOk_30_3" id="attributeOk_34_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_34_46" id="s_34_15" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#Attribute_34_5" id="Attribute_34_18" title="a reference to a single-file definition"><span class="token sort_Id">Attribute</span></a><span class="operator">(_,</span> <span class="cons_Var"><a href="#exp_34_49" id="exp_34_31" title="a definition with a single reference"><span class="token sort_Id">exp</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="../../webdsl-types.stx/#typed_283_3" id="typed_34_40" title="a reference to a single-file definition"><span class="token sort_Id">typed</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_34_15" id="s_34_46" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_34_31" id="exp_34_49" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">).</span>
  <a href="#attributeOk_30_3" id="attributeOk_35_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_35_15" title="a definition with multiple references" data-urls="#s line 36_25, 36_37, 37_18"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#XMLAttributesIf_32_5" id="XMLAttributesIf_35_18" title="a reference to a single-file definition"><span class="token sort_Id">XMLAttributesIf</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="c_35_34" title="a definition with multiple references" data-urls="#c line 36_28, 36_86"><span class="token sort_Id">c</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_37_21" id="attributes_35_37" title="a definition with a single reference"><span class="token sort_Id">attributes</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl-types.stx/#equalType_289_3" id="equalType_36_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_36_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_35_15" id="s_36_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_35_34" id="c_36_28" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">),</span> <a href="../../types/built-ins.stx/#bool_72_3" id="bool_36_32" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_35_15" id="s_36_37" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Condition should be of type bool</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#c_35_34" id="c_36_86" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">,</span>
    <a href="#attributesOk_29_3" id="attributesOk_37_5" title="a reference to a single-file definition"><span class="token sort_Id">attributesOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_35_15" id="s_37_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_35_37" id="attributes_37_21" title="a reference to a single-file definition"><span class="token sort_Id">attributes</span></a></span><span class="operator">).</span>

  <a href="#attributeOk_30_3" id="attributeOk_39_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_39_15" title="a definition with multiple references" data-urls="#s line 40_25, 40_37, 41_18, 42_18"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#XMLAttributesIfElse_33_5" id="XMLAttributesIfElse_39_18" title="a reference to a single-file definition"><span class="token sort_Id">XMLAttributesIfElse</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="c_39_38" title="a definition with multiple references" data-urls="#c line 40_28, 40_86"><span class="token sort_Id">c</span></button></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_if_41_21" id="attributes_if_39_41" title="a definition with a single reference"><span class="token sort_Id">attributes_if</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_else_42_21" id="attributes_else_39_56" title="a definition with a single reference"><span class="token sort_Id">attributes_else</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="../../webdsl-types.stx/#equalType_289_3" id="equalType_40_5" title="a reference to a single-file definition"><span class="token sort_Id">equalType</span></a><span class="operator">(</span><a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_40_15" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_39_15" id="s_40_25" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_39_38" id="c_40_28" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">),</span> <a href="../../types/built-ins.stx/#bool_72_3" id="bool_40_32" title="a reference to a single-file definition"><span class="token sort_Id">bool</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_39_15" id="s_40_37" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Condition should be of type bool</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#c_39_38" id="c_40_86" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">,</span>
    <a href="#attributesOk_29_3" id="attributesOk_41_5" title="a reference to a single-file definition"><span class="token sort_Id">attributesOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_39_15" id="s_41_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_if_39_41" id="attributes_if_41_21" title="a reference to a single-file definition"><span class="token sort_Id">attributes_if</span></a></span><span class="operator">),</span>
    <a href="#attributesOk_29_3" id="attributesOk_42_5" title="a reference to a single-file definition"><span class="token sort_Id">attributesOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_39_15" id="s_42_18" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#attributes_else_39_56" id="attributes_else_42_21" title="a reference to a single-file definition"><span class="token sort_Id">attributes_else</span></a></span><span class="operator">).</span>

  <a href="#attributeOk_30_3" id="attributeOk_44_3" title="a reference to a single-file definition"><span class="token sort_Id">attributeOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_44_70" id="s_44_15" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#CommonAttribute2Attribute_35_5" id="CommonAttribute2Attribute_44_18" title="a reference to a single-file definition"><span class="token sort_Id">CommonAttribute2Attribute</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ca_44_73" id="ca_44_44" title="a definition with a single reference"><span class="token sort_Id">ca</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <a href="#commonAttributeOk_46_3" id="commonAttributeOk_44_52" title="a reference to a single-file definition"><span class="token sort_Id">commonAttributeOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_44_15" id="s_44_70" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ca_44_44" id="ca_44_73" title="a reference to a single-file definition"><span class="token sort_Id">ca</span></a></span><span class="operator">).</span>

  <button class="modal-open" id="commonAttributeOk_46_3" title="a definition with multiple references" data-urls="#commonAttributeOk line 44_52, 47_3, 48_3, 49_3, 59_3; ../template-calls.stx/#commonAttributeOk line 120_5"><span class="token sort_Id">commonAttributeOk</span></button> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#CommonAttribute_20_5" id="CommonAttribute_46_31" title="a reference to a single-file definition"><span class="token sort_Id">CommonAttribute</span></a></span>
  <a href="#commonAttributeOk_46_3" id="commonAttributeOk_47_3" title="a reference to a single-file definition"><span class="token sort_Id">commonAttributeOk</span></a><span class="operator">(_,</span> <span class="operator">_)</span> <span class="operator">:-</span> <span class="keyword">try</span> <span class="operator">{</span> <span class="keyword">false</span> <span class="operator">}</span> <span class="operator">|</span> <span class="token sort_Id">warning</span> <span class="operator">$[</span><span class="cons_Text">This common attribute is not yet implemented</span><span class="operator">].</span>
  <a href="#commonAttributeOk_46_3" id="commonAttributeOk_48_3" title="a reference to a single-file definition"><span class="token sort_Id">commonAttributeOk</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_48_21" title="a definition with no references"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#AllAttributes_36_5" id="AllAttributes_48_24" title="a reference to a single-file definition"><span class="token sort_Id">AllAttributes</span></a><span class="operator">()</span></span><span class="operator">).</span>
  <a href="#commonAttributeOk_46_3" id="commonAttributeOk_49_3" title="a reference to a single-file definition"><span class="token sort_Id">commonAttributeOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_49_21" title="a definition with multiple references" data-urls="#s line 50_20, 52_30, 54_37, 55_36"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#AllAttributesExceptExp_37_5" id="AllAttributesExceptExp_49_24" title="a reference to a single-file definition"><span class="token sort_Id">AllAttributesExceptExp</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="exp_49_47" title="a definition with multiple references" data-urls="#exp line 50_23, 57_113"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><button class="modal-open" id="t_49_57" title="a definition with multiple references" data-urls="#t line 50_5, 52_34, 54_42, 55_41, 57_102"><span class="token sort_Id">t</span></button></span><span class="operator">}</span>
    <span class="cons_Var"><a href="#t_49_57" id="t_50_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_50_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_21" id="s_50_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_49_47" id="exp_50_23" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#or_417_3" id="or_51_5" title="a reference to a single-file definition"><span class="token sort_Id">or</span></a><span class="operator">(</span>
      <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_52_7" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_52_23" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_21" id="s_52_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#t_49_57" id="t_52_34" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
      <a href="../../webdsl.stx/#orB_419_3" id="orB_53_7" title="a reference to a single-file definition"><span class="token sort_Id">orB</span></a><span class="operator">(</span>
        <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_54_9" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#LIST_35_5" id="LIST_54_25" title="a reference to a single-file definition"><span class="token sort_Id">LIST</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_54_30" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_21" id="s_54_37" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_49_57" id="t_54_42" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
        <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_55_9" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#SET_36_5" id="SET_55_25" title="a reference to a single-file definition"><span class="token sort_Id">SET</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_55_29" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_49_21" id="s_55_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_49_57" id="t_55_41" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span>
      <span class="operator">)</span>
    <span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Attribute names should be of type String, List of String of Set of String, but type </span><span class="operator">[</span><span class="cons_Var"><a href="#t_49_57" id="t_57_102" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> given</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_49_47" id="exp_57_113" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span>

  <a href="#commonAttributeOk_46_3" id="commonAttributeOk_59_3" title="a reference to a single-file definition"><span class="token sort_Id">commonAttributeOk</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="s_59_21" title="a definition with multiple references" data-urls="#s line 60_20, 62_30, 64_37, 65_36"><span class="token sort_Id">s</span></button></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-XML-sig.stx/#AttributesExp_38_5" id="AttributesExp_59_24" title="a reference to a single-file definition"><span class="token sort_Id">AttributesExp</span></a><span class="operator">(</span><span class="cons_Var"><button class="modal-open" id="exp_59_38" title="a definition with multiple references" data-urls="#exp line 60_23, 67_113"><span class="token sort_Id">exp</span></button></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><button class="modal-open" id="t_59_48" title="a definition with multiple references" data-urls="#t line 60_5, 62_34, 64_42, 65_41, 67_102"><span class="token sort_Id">t</span></button></span><span class="operator">}</span>
    <span class="cons_Var"><a href="#t_59_48" id="t_60_5" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span> <span class="operator">==</span> <a href="../../webdsl.stx/#typeOfExp_388_3" id="typeOfExp_60_10" title="a reference to a single-file definition"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_59_21" id="s_60_20" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#exp_59_38" id="exp_60_23" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">),</span>
    <a href="../../webdsl.stx/#or_417_3" id="or_61_5" title="a reference to a single-file definition"><span class="token sort_Id">or</span></a><span class="operator">(</span>
      <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_62_7" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_62_23" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_59_21" id="s_62_30" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">),</span> <span class="cons_Var"><a href="#t_59_48" id="t_62_34" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
      <a href="../../webdsl.stx/#orB_419_3" id="orB_63_7" title="a reference to a single-file definition"><span class="token sort_Id">orB</span></a><span class="operator">(</span>
        <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_64_9" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#LIST_35_5" id="LIST_64_25" title="a reference to a single-file definition"><span class="token sort_Id">LIST</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_64_30" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_59_21" id="s_64_37" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_59_48" id="t_64_42" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">),</span>
        <a href="../../webdsl.stx/#typeCompatibleB_411_3" id="typeCompatibleB_65_9" title="a reference to a single-file definition"><span class="token sort_Id">typeCompatibleB</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../webdsl-types.stx/#SET_36_5" id="SET_65_25" title="a reference to a single-file definition"><span class="token sort_Id">SET</span></a><span class="operator">(</span><a href="../../types/built-ins.stx/#string_48_3" id="string_65_29" title="a reference to a single-file definition"><span class="keyword">string</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_59_21" id="s_65_36" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">))</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_59_48" id="t_65_41" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">)</span>
      <span class="operator">)</span>
    <span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Attribute names should be of type String, List of String of Set of String, but type </span><span class="operator">[</span><span class="cons_Var"><a href="#t_59_48" id="t_67_102" title="a reference to a single-file definition"><span class="token sort_Id">t</span></a></span><span class="operator">]</span><span class="cons_Text"> given</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#exp_59_38" id="exp_67_113" title="a reference to a single-file definition"><span class="token sort_Id">exp</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// attribute collections</span>

  <a href="../../webdsl.stx/#defOk_356_3" id="defOk_71_3" title="a reference to a single-file definition"><span class="token sort_Id">defOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_72_32" id="s_71_9" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#AttributeCollection_29_5" id="AttributeCollection_71_12" title="a reference to a single-file definition"><span class="token sort_Id">AttributeCollection</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#AttributeCollectionOverrideNone_35_5" id="AttributeCollectionOverrideNone_71_32" title="a reference to a single-file definition"><span class="token sort_Id">AttributeCollectionOverrideNone</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_72_35" id="c_71_67" title="a definition with a single reference"><span class="token sort_Id">c</span></a></span><span class="operator">,</span> <span class="cons_Var"><span id="attrs_71_70" title="a definition with no references"><span class="token sort_Id">attrs</span></span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#declareAttributeCollection_15_3" id="declareAttributeCollection_72_5" title="a reference to a single-file definition"><span class="token sort_Id">declareAttributeCollection</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_71_9" id="s_72_32" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_71_67" id="c_72_35" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">).</span>

  <a href="../../webdsl.stx/#defOk_356_3" id="defOk_74_3" title="a reference to a single-file definition"><span class="token sort_Id">defOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_75_32" id="s_74_9" title="a definition with a single reference"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#AttributeCollection_29_5" id="AttributeCollection_74_12" title="a reference to a single-file definition"><span class="token sort_Id">AttributeCollection</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../../../src-gen/statix/signatures/WebDSL-Attributes-sig.stx/#AttributeCollectionOverride_36_5" id="AttributeCollectionOverride_74_32" title="a reference to a single-file definition"><span class="token sort_Id">AttributeCollectionOverride</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Var"><button class="modal-open" id="c_74_63" title="a definition with multiple references" data-urls="#c line 75_35, 75_93, 75_110, 76_6"><span class="token sort_Id">c</span></button></span><span class="operator">,</span> <span class="cons_Var"><span id="attrs_74_66" title="a definition with no references"><span class="token sort_Id">attrs</span></span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><button class="modal-open" id="c'_74_78" title="a definition with multiple references" data-urls="#c' line 75_46, 76_15"><span class="token sort_Id">c'</span></button></span><span class="operator">}</span>
    <a href="#resolveAttributeCollection_20_3" id="resolveAttributeCollection_75_5" title="a reference to a single-file definition"><span class="token sort_Id">resolveAttributeCollection</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_74_9" id="s_75_32" title="a reference to a single-file definition"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#c_74_63" id="c_75_35" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="cons_Var"><a href="#c'_74_78" id="c'_75_46" title="a reference to a single-file definition"><span class="token sort_Id">c'</span></a></span><span class="operator">)]</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Attribute collection with name </span><span class="operator">[</span><span class="cons_Var"><a href="#c_74_63" id="c_75_93" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">]</span><span class="cons_Text"> not defined</span><span class="operator">]</span> <span class="operator">@</span><span class="cons_Var"><a href="#c_74_63" id="c_75_110" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">,</span> <span class="layout">// correct error message for tests</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#c_74_63" id="c_76_6" title="a reference to a single-file definition"><span class="token sort_Id">c</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#c'_74_78" id="c'_76_15" title="a reference to a single-file definition"><span class="token sort_Id">c'</span></a></span><span class="operator">.</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>
